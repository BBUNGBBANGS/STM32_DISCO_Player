ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"usbd_msc_scsi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.SCSI_ProcessCmd,"ax",%progbits
  20              		.align	1
  21              		.global	SCSI_ProcessCmd
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	SCSI_ProcessCmd:
  27              	.LFB145:
  28              		.file 1 "Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c"
   1:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
   2:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   ******************************************************************************
   3:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @file    usbd_msc_scsi.c
   4:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief   This file provides all the USBD SCSI layer functions.
   6:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   ******************************************************************************
   7:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @attention
   8:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *
   9:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * Copyright (c) 2015 STMicroelectronics.
  10:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * All rights reserved.
  11:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *
  12:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * in the root directory of this software component.
  14:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *
  16:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   ******************************************************************************
  17:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  18:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  19:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /* BSPDependencies
  20:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}{nucleo_144}.c"
  21:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}_io.c"
  22:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}{adafruit}_sd.c"
  23:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** EndBSPDependencies */
  24:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  25:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /* Includes ------------------------------------------------------------------*/
  26:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #include "usbd_msc_bot.h"
  27:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #include "usbd_msc_scsi.h"
  28:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #include "usbd_msc.h"
  29:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #include "usbd_msc_data.h"
  30:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 2


  31:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  32:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @addtogroup STM32_USB_DEVICE_LIBRARY
  33:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  34:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  35:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  36:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  37:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI
  38:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief Mass storage SCSI layer module
  39:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  40:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  41:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  42:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI_Private_TypesDefinitions
  43:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  44:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  45:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
  46:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @}
  47:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  48:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  49:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  50:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI_Private_Defines
  51:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  52:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  53:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  54:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
  55:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @}
  56:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  57:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  58:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  59:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI_Private_Macros
  60:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  61:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  62:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
  63:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @}
  64:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  65:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  66:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  67:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI_Private_Variables
  68:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  69:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  70:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** extern uint8_t MSCInEpAdd;
  71:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** extern uint8_t MSCOutEpAdd;
  72:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
  73:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @}
  74:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  75:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  76:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  77:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI_Private_FunctionPrototypes
  78:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
  79:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
  80:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_TestUnitReady(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  81:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Inquiry(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  82:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ReadFormatCapacity(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  83:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ReadCapacity10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  84:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ReadCapacity16(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  85:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_RequestSense(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  86:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_StartStopUnit(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  87:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_AllowPreventRemovable(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 3


  88:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ModeSense6(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  89:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ModeSense10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  90:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Write10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  91:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Write12(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  92:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Read10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  93:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Read12(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  94:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Verify10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params);
  95:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_CheckAddressRange(USBD_HandleTypeDef *pdev, uint8_t lun,
  96:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                      uint32_t blk_offset, uint32_t blk_nbr);
  97:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
  98:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ProcessRead(USBD_HandleTypeDef *pdev, uint8_t lun);
  99:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ProcessWrite(USBD_HandleTypeDef *pdev, uint8_t lun);
 100:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 101:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_UpdateBotData(USBD_MSC_BOT_HandleTypeDef *hmsc,
 102:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                  uint8_t *pBuff, uint16_t length);
 103:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 104:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @}
 105:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 106:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 107:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 108:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /** @defgroup MSC_SCSI_Private_Functions
 109:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @{
 110:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 111:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 112:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 113:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 114:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ProcessCmd
 115:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process SCSI commands
 116:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  pdev: device instance
 117:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 118:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 119:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 120:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 121:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** int8_t SCSI_ProcessCmd(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *cmd)
 122:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
  29              		.loc 1 122 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 24
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 86B0     		sub	sp, sp, #24
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 32
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 F860     		str	r0, [r7, #12]
  45 0008 0B46     		mov	r3, r1
  46 000a 7A60     		str	r2, [r7, #4]
  47 000c FB72     		strb	r3, [r7, #11]
 123:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   int8_t ret;
 124:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
  48              		.loc 1 124 94
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 4


  49 000e FB68     		ldr	r3, [r7, #12]
  50 0010 D3F8D422 		ldr	r2, [r3, #724]
  51              		.loc 1 124 31
  52 0014 FB68     		ldr	r3, [r7, #12]
  53 0016 B032     		adds	r2, r2, #176
  54 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
  55 001c 3B61     		str	r3, [r7, #16]
 125:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 126:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
  56              		.loc 1 126 6
  57 001e 3B69     		ldr	r3, [r7, #16]
  58 0020 002B     		cmp	r3, #0
  59 0022 02D1     		bne	.L2
 127:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 128:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
  60              		.loc 1 128 12
  61 0024 4FF0FF33 		mov	r3, #-1
  62 0028 68E1     		b	.L3
  63              	.L2:
 129:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 130:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 131:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   switch (cmd[0])
  64              		.loc 1 131 14
  65 002a 7B68     		ldr	r3, [r7, #4]
  66 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  67              		.loc 1 131 3
  68 002e AA2B     		cmp	r3, #170
  69 0030 00F04481 		beq	.L4
  70 0034 AA2B     		cmp	r3, #170
  71 0036 00F35381 		bgt	.L5
  72 003a A82B     		cmp	r3, #168
  73 003c 00F02C81 		beq	.L6
  74 0040 A82B     		cmp	r3, #168
  75 0042 00F34D81 		bgt	.L5
  76 0046 5A2B     		cmp	r3, #90
  77 0048 00F3C080 		bgt	.L7
  78 004c 002B     		cmp	r3, #0
  79 004e C0F24781 		blt	.L5
  80 0052 5A2B     		cmp	r3, #90
  81 0054 00F24481 		bhi	.L5
  82 0058 01A2     		adr	r2, .L9
  83 005a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
  84 005e 00BF     		.p2align 2
  85              	.L9:
  86 0060 D3010000 		.word	.L20+1
  87 0064 E1020000 		.word	.L5+1
  88 0068 E1020000 		.word	.L5+1
  89 006c E5010000 		.word	.L19+1
  90 0070 E1020000 		.word	.L5+1
  91 0074 E1020000 		.word	.L5+1
  92 0078 E1020000 		.word	.L5+1
  93 007c E1020000 		.word	.L5+1
  94 0080 E1020000 		.word	.L5+1
  95 0084 E1020000 		.word	.L5+1
  96 0088 E1020000 		.word	.L5+1
  97 008c E1020000 		.word	.L5+1
  98 0090 E1020000 		.word	.L5+1
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 5


  99 0094 E1020000 		.word	.L5+1
 100 0098 E1020000 		.word	.L5+1
 101 009c E1020000 		.word	.L5+1
 102 00a0 E1020000 		.word	.L5+1
 103 00a4 E1020000 		.word	.L5+1
 104 00a8 F7010000 		.word	.L18+1
 105 00ac E1020000 		.word	.L5+1
 106 00b0 E1020000 		.word	.L5+1
 107 00b4 E1020000 		.word	.L5+1
 108 00b8 E1020000 		.word	.L5+1
 109 00bc E1020000 		.word	.L5+1
 110 00c0 E1020000 		.word	.L5+1
 111 00c4 E1020000 		.word	.L5+1
 112 00c8 2D020000 		.word	.L17+1
 113 00cc 09020000 		.word	.L16+1
 114 00d0 E1020000 		.word	.L5+1
 115 00d4 E1020000 		.word	.L5+1
 116 00d8 1B020000 		.word	.L15+1
 117 00dc E1020000 		.word	.L5+1
 118 00e0 E1020000 		.word	.L5+1
 119 00e4 E1020000 		.word	.L5+1
 120 00e8 E1020000 		.word	.L5+1
 121 00ec 51020000 		.word	.L14+1
 122 00f0 E1020000 		.word	.L5+1
 123 00f4 63020000 		.word	.L13+1
 124 00f8 E1020000 		.word	.L5+1
 125 00fc E1020000 		.word	.L5+1
 126 0100 87020000 		.word	.L12+1
 127 0104 E1020000 		.word	.L5+1
 128 0108 AB020000 		.word	.L11+1
 129 010c E1020000 		.word	.L5+1
 130 0110 E1020000 		.word	.L5+1
 131 0114 E1020000 		.word	.L5+1
 132 0118 E1020000 		.word	.L5+1
 133 011c CF020000 		.word	.L10+1
 134 0120 E1020000 		.word	.L5+1
 135 0124 E1020000 		.word	.L5+1
 136 0128 E1020000 		.word	.L5+1
 137 012c E1020000 		.word	.L5+1
 138 0130 E1020000 		.word	.L5+1
 139 0134 E1020000 		.word	.L5+1
 140 0138 E1020000 		.word	.L5+1
 141 013c E1020000 		.word	.L5+1
 142 0140 E1020000 		.word	.L5+1
 143 0144 E1020000 		.word	.L5+1
 144 0148 E1020000 		.word	.L5+1
 145 014c E1020000 		.word	.L5+1
 146 0150 E1020000 		.word	.L5+1
 147 0154 E1020000 		.word	.L5+1
 148 0158 E1020000 		.word	.L5+1
 149 015c E1020000 		.word	.L5+1
 150 0160 E1020000 		.word	.L5+1
 151 0164 E1020000 		.word	.L5+1
 152 0168 E1020000 		.word	.L5+1
 153 016c E1020000 		.word	.L5+1
 154 0170 E1020000 		.word	.L5+1
 155 0174 E1020000 		.word	.L5+1
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 6


 156 0178 E1020000 		.word	.L5+1
 157 017c E1020000 		.word	.L5+1
 158 0180 E1020000 		.word	.L5+1
 159 0184 E1020000 		.word	.L5+1
 160 0188 E1020000 		.word	.L5+1
 161 018c E1020000 		.word	.L5+1
 162 0190 E1020000 		.word	.L5+1
 163 0194 E1020000 		.word	.L5+1
 164 0198 E1020000 		.word	.L5+1
 165 019c E1020000 		.word	.L5+1
 166 01a0 E1020000 		.word	.L5+1
 167 01a4 E1020000 		.word	.L5+1
 168 01a8 E1020000 		.word	.L5+1
 169 01ac E1020000 		.word	.L5+1
 170 01b0 E1020000 		.word	.L5+1
 171 01b4 E1020000 		.word	.L5+1
 172 01b8 E1020000 		.word	.L5+1
 173 01bc E1020000 		.word	.L5+1
 174 01c0 E1020000 		.word	.L5+1
 175 01c4 E1020000 		.word	.L5+1
 176 01c8 3F020000 		.word	.L8+1
 177              		.p2align 1
 178              	.L7:
 179 01cc 9E2B     		cmp	r3, #158
 180 01ce 51D0     		beq	.L21
 181 01d0 86E0     		b	.L5
 182              	.L20:
 132:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 133:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_TEST_UNIT_READY:
 134:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_TestUnitReady(pdev, lun, cmd);
 183              		.loc 1 134 13
 184 01d2 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 185 01d4 7A68     		ldr	r2, [r7, #4]
 186 01d6 1946     		mov	r1, r3
 187 01d8 F868     		ldr	r0, [r7, #12]
 188 01da FFF7FEFF 		bl	SCSI_TestUnitReady
 189 01de 0346     		mov	r3, r0
 190 01e0 FB75     		strb	r3, [r7, #23]
 135:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 191              		.loc 1 135 7
 192 01e2 89E0     		b	.L22
 193              	.L19:
 136:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 137:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_REQUEST_SENSE:
 138:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_RequestSense(pdev, lun, cmd);
 194              		.loc 1 138 13
 195 01e4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 196 01e6 7A68     		ldr	r2, [r7, #4]
 197 01e8 1946     		mov	r1, r3
 198 01ea F868     		ldr	r0, [r7, #12]
 199 01ec FFF7FEFF 		bl	SCSI_RequestSense
 200 01f0 0346     		mov	r3, r0
 201 01f2 FB75     		strb	r3, [r7, #23]
 139:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 202              		.loc 1 139 7
 203 01f4 80E0     		b	.L22
 204              	.L18:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 7


 140:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 141:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_INQUIRY:
 142:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_Inquiry(pdev, lun, cmd);
 205              		.loc 1 142 13
 206 01f6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 207 01f8 7A68     		ldr	r2, [r7, #4]
 208 01fa 1946     		mov	r1, r3
 209 01fc F868     		ldr	r0, [r7, #12]
 210 01fe FFF7FEFF 		bl	SCSI_Inquiry
 211 0202 0346     		mov	r3, r0
 212 0204 FB75     		strb	r3, [r7, #23]
 143:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 213              		.loc 1 143 7
 214 0206 77E0     		b	.L22
 215              	.L16:
 144:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 145:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_START_STOP_UNIT:
 146:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_StartStopUnit(pdev, lun, cmd);
 216              		.loc 1 146 13
 217 0208 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 218 020a 7A68     		ldr	r2, [r7, #4]
 219 020c 1946     		mov	r1, r3
 220 020e F868     		ldr	r0, [r7, #12]
 221 0210 FFF7FEFF 		bl	SCSI_StartStopUnit
 222 0214 0346     		mov	r3, r0
 223 0216 FB75     		strb	r3, [r7, #23]
 147:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 224              		.loc 1 147 7
 225 0218 6EE0     		b	.L22
 226              	.L15:
 148:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 149:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_ALLOW_MEDIUM_REMOVAL:
 150:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_AllowPreventRemovable(pdev, lun, cmd);
 227              		.loc 1 150 13
 228 021a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 229 021c 7A68     		ldr	r2, [r7, #4]
 230 021e 1946     		mov	r1, r3
 231 0220 F868     		ldr	r0, [r7, #12]
 232 0222 FFF7FEFF 		bl	SCSI_AllowPreventRemovable
 233 0226 0346     		mov	r3, r0
 234 0228 FB75     		strb	r3, [r7, #23]
 151:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 235              		.loc 1 151 7
 236 022a 65E0     		b	.L22
 237              	.L17:
 152:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 153:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_MODE_SENSE6:
 154:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_ModeSense6(pdev, lun, cmd);
 238              		.loc 1 154 13
 239 022c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 240 022e 7A68     		ldr	r2, [r7, #4]
 241 0230 1946     		mov	r1, r3
 242 0232 F868     		ldr	r0, [r7, #12]
 243 0234 FFF7FEFF 		bl	SCSI_ModeSense6
 244 0238 0346     		mov	r3, r0
 245 023a FB75     		strb	r3, [r7, #23]
 155:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 8


 246              		.loc 1 155 7
 247 023c 5CE0     		b	.L22
 248              	.L8:
 156:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 157:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_MODE_SENSE10:
 158:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_ModeSense10(pdev, lun, cmd);
 249              		.loc 1 158 13
 250 023e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 251 0240 7A68     		ldr	r2, [r7, #4]
 252 0242 1946     		mov	r1, r3
 253 0244 F868     		ldr	r0, [r7, #12]
 254 0246 FFF7FEFF 		bl	SCSI_ModeSense10
 255 024a 0346     		mov	r3, r0
 256 024c FB75     		strb	r3, [r7, #23]
 159:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 257              		.loc 1 159 7
 258 024e 53E0     		b	.L22
 259              	.L14:
 160:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 161:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_READ_FORMAT_CAPACITIES:
 162:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_ReadFormatCapacity(pdev, lun, cmd);
 260              		.loc 1 162 13
 261 0250 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 262 0252 7A68     		ldr	r2, [r7, #4]
 263 0254 1946     		mov	r1, r3
 264 0256 F868     		ldr	r0, [r7, #12]
 265 0258 FFF7FEFF 		bl	SCSI_ReadFormatCapacity
 266 025c 0346     		mov	r3, r0
 267 025e FB75     		strb	r3, [r7, #23]
 163:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 268              		.loc 1 163 7
 269 0260 4AE0     		b	.L22
 270              	.L13:
 164:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 165:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_READ_CAPACITY10:
 166:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_ReadCapacity10(pdev, lun, cmd);
 271              		.loc 1 166 13
 272 0262 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 273 0264 7A68     		ldr	r2, [r7, #4]
 274 0266 1946     		mov	r1, r3
 275 0268 F868     		ldr	r0, [r7, #12]
 276 026a FFF7FEFF 		bl	SCSI_ReadCapacity10
 277 026e 0346     		mov	r3, r0
 278 0270 FB75     		strb	r3, [r7, #23]
 167:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 279              		.loc 1 167 7
 280 0272 41E0     		b	.L22
 281              	.L21:
 168:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 169:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_READ_CAPACITY16:
 170:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_ReadCapacity16(pdev, lun, cmd);
 282              		.loc 1 170 13
 283 0274 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 284 0276 7A68     		ldr	r2, [r7, #4]
 285 0278 1946     		mov	r1, r3
 286 027a F868     		ldr	r0, [r7, #12]
 287 027c FFF7FEFF 		bl	SCSI_ReadCapacity16
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 9


 288 0280 0346     		mov	r3, r0
 289 0282 FB75     		strb	r3, [r7, #23]
 171:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 290              		.loc 1 171 7
 291 0284 38E0     		b	.L22
 292              	.L12:
 172:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 173:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_READ10:
 174:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_Read10(pdev, lun, cmd);
 293              		.loc 1 174 13
 294 0286 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 295 0288 7A68     		ldr	r2, [r7, #4]
 296 028a 1946     		mov	r1, r3
 297 028c F868     		ldr	r0, [r7, #12]
 298 028e FFF7FEFF 		bl	SCSI_Read10
 299 0292 0346     		mov	r3, r0
 300 0294 FB75     		strb	r3, [r7, #23]
 175:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 301              		.loc 1 175 7
 302 0296 2FE0     		b	.L22
 303              	.L6:
 176:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 177:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_READ12:
 178:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_Read12(pdev, lun, cmd);
 304              		.loc 1 178 13
 305 0298 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 306 029a 7A68     		ldr	r2, [r7, #4]
 307 029c 1946     		mov	r1, r3
 308 029e F868     		ldr	r0, [r7, #12]
 309 02a0 FFF7FEFF 		bl	SCSI_Read12
 310 02a4 0346     		mov	r3, r0
 311 02a6 FB75     		strb	r3, [r7, #23]
 179:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 312              		.loc 1 179 7
 313 02a8 26E0     		b	.L22
 314              	.L11:
 180:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 181:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_WRITE10:
 182:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_Write10(pdev, lun, cmd);
 315              		.loc 1 182 13
 316 02aa FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 317 02ac 7A68     		ldr	r2, [r7, #4]
 318 02ae 1946     		mov	r1, r3
 319 02b0 F868     		ldr	r0, [r7, #12]
 320 02b2 FFF7FEFF 		bl	SCSI_Write10
 321 02b6 0346     		mov	r3, r0
 322 02b8 FB75     		strb	r3, [r7, #23]
 183:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 323              		.loc 1 183 7
 324 02ba 1DE0     		b	.L22
 325              	.L4:
 184:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 185:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_WRITE12:
 186:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_Write12(pdev, lun, cmd);
 326              		.loc 1 186 13
 327 02bc FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 328 02be 7A68     		ldr	r2, [r7, #4]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 10


 329 02c0 1946     		mov	r1, r3
 330 02c2 F868     		ldr	r0, [r7, #12]
 331 02c4 FFF7FEFF 		bl	SCSI_Write12
 332 02c8 0346     		mov	r3, r0
 333 02ca FB75     		strb	r3, [r7, #23]
 187:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 334              		.loc 1 187 7
 335 02cc 14E0     		b	.L22
 336              	.L10:
 188:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 189:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     case SCSI_VERIFY10:
 190:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = SCSI_Verify10(pdev, lun, cmd);
 337              		.loc 1 190 13
 338 02ce FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 339 02d0 7A68     		ldr	r2, [r7, #4]
 340 02d2 1946     		mov	r1, r3
 341 02d4 F868     		ldr	r0, [r7, #12]
 342 02d6 FFF7FEFF 		bl	SCSI_Verify10
 343 02da 0346     		mov	r3, r0
 344 02dc FB75     		strb	r3, [r7, #23]
 191:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 345              		.loc 1 191 7
 346 02de 0BE0     		b	.L22
 347              	.L5:
 192:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 193:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     default:
 194:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, ILLEGAL_REQUEST, INVALID_CDB);
 348              		.loc 1 194 7
 349 02e0 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 350 02e2 2023     		movs	r3, #32
 351 02e4 0522     		movs	r2, #5
 352 02e6 F868     		ldr	r0, [r7, #12]
 353 02e8 FFF7FEFF 		bl	SCSI_SenseCode
 195:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       hmsc->bot_status = USBD_BOT_STATUS_ERROR;
 354              		.loc 1 195 24
 355 02ec 3B69     		ldr	r3, [r7, #16]
 356 02ee 0222     		movs	r2, #2
 357 02f0 5A72     		strb	r2, [r3, #9]
 196:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       ret = -1;
 358              		.loc 1 196 11
 359 02f2 FF23     		movs	r3, #255
 360 02f4 FB75     		strb	r3, [r7, #23]
 197:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       break;
 361              		.loc 1 197 7
 362 02f6 00BF     		nop
 363              	.L22:
 198:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 199:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 200:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return ret;
 364              		.loc 1 200 10
 365 02f8 97F91730 		ldrsb	r3, [r7, #23]
 366              	.L3:
 201:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 367              		.loc 1 201 1
 368 02fc 1846     		mov	r0, r3
 369 02fe 1837     		adds	r7, r7, #24
 370              	.LCFI3:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 11


 371              		.cfi_def_cfa_offset 8
 372 0300 BD46     		mov	sp, r7
 373              	.LCFI4:
 374              		.cfi_def_cfa_register 13
 375              		@ sp needed
 376 0302 80BD     		pop	{r7, pc}
 377              		.cfi_endproc
 378              	.LFE145:
 380              		.section	.text.SCSI_TestUnitReady,"ax",%progbits
 381              		.align	1
 382              		.syntax unified
 383              		.thumb
 384              		.thumb_func
 386              	SCSI_TestUnitReady:
 387              	.LFB146:
 202:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 203:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 204:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 205:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_TestUnitReady
 206:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process SCSI Test Unit Ready Command
 207:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 208:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 209:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 210:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 211:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_TestUnitReady(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 212:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 388              		.loc 1 212 1
 389              		.cfi_startproc
 390              		@ args = 0, pretend = 0, frame = 24
 391              		@ frame_needed = 1, uses_anonymous_args = 0
 392 0000 80B5     		push	{r7, lr}
 393              	.LCFI5:
 394              		.cfi_def_cfa_offset 8
 395              		.cfi_offset 7, -8
 396              		.cfi_offset 14, -4
 397 0002 86B0     		sub	sp, sp, #24
 398              	.LCFI6:
 399              		.cfi_def_cfa_offset 32
 400 0004 00AF     		add	r7, sp, #0
 401              	.LCFI7:
 402              		.cfi_def_cfa_register 7
 403 0006 F860     		str	r0, [r7, #12]
 404 0008 0B46     		mov	r3, r1
 405 000a 7A60     		str	r2, [r7, #4]
 406 000c FB72     		strb	r3, [r7, #11]
 213:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(params);
 214:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 407              		.loc 1 214 94
 408 000e FB68     		ldr	r3, [r7, #12]
 409 0010 D3F8D422 		ldr	r2, [r3, #724]
 410              		.loc 1 214 31
 411 0014 FB68     		ldr	r3, [r7, #12]
 412 0016 B032     		adds	r2, r2, #176
 413 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 414 001c 7B61     		str	r3, [r7, #20]
 215:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 216:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 12


 415              		.loc 1 216 6
 416 001e 7B69     		ldr	r3, [r7, #20]
 417 0020 002B     		cmp	r3, #0
 418 0022 02D1     		bne	.L24
 217:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 218:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 419              		.loc 1 218 12
 420 0024 4FF0FF33 		mov	r3, #-1
 421 0028 3FE0     		b	.L25
 422              	.L24:
 219:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 220:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 221:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* case 9 : Hi > D0 */
 222:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->cbw.dDataLength != 0U)
 423              		.loc 1 222 16
 424 002a 7B69     		ldr	r3, [r7, #20]
 425 002c D3F81832 		ldr	r3, [r3, #536]
 426              		.loc 1 222 6
 427 0030 002B     		cmp	r3, #0
 428 0032 0AD0     		beq	.L26
 223:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 224:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 429              		.loc 1 224 5
 430 0034 7B69     		ldr	r3, [r7, #20]
 431 0036 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 432 003a 2023     		movs	r3, #32
 433 003c 0522     		movs	r2, #5
 434 003e F868     		ldr	r0, [r7, #12]
 435 0040 FFF7FEFF 		bl	SCSI_SenseCode
 225:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 226:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 436              		.loc 1 226 12
 437 0044 4FF0FF33 		mov	r3, #-1
 438 0048 2FE0     		b	.L25
 439              	.L26:
 227:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 228:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 229:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->scsi_medium_state == SCSI_MEDIUM_EJECTED)
 440              		.loc 1 229 11
 441 004a 7B69     		ldr	r3, [r7, #20]
 442 004c 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 443              		.loc 1 229 6
 444 0050 022B     		cmp	r3, #2
 445 0052 0BD1     		bne	.L27
 230:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 231:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 446              		.loc 1 231 5
 447 0054 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 448 0056 3A23     		movs	r3, #58
 449 0058 0222     		movs	r2, #2
 450 005a F868     		ldr	r0, [r7, #12]
 451 005c FFF7FEFF 		bl	SCSI_SenseCode
 232:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_NO_DATA;
 452              		.loc 1 232 21
 453 0060 7B69     		ldr	r3, [r7, #20]
 454 0062 0522     		movs	r2, #5
 455 0064 1A72     		strb	r2, [r3, #8]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 13


 233:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 456              		.loc 1 233 12
 457 0066 4FF0FF33 		mov	r3, #-1
 458 006a 1EE0     		b	.L25
 459              	.L27:
 234:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 235:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 236:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsReady(lun) != 0)
 460              		.loc 1 236 51
 461 006c FB68     		ldr	r3, [r7, #12]
 462 006e D3F8D432 		ldr	r3, [r3, #724]
 463              		.loc 1 236 46
 464 0072 FA68     		ldr	r2, [r7, #12]
 465 0074 B033     		adds	r3, r3, #176
 466 0076 9B00     		lsls	r3, r3, #2
 467 0078 1344     		add	r3, r3, r2
 468 007a 5B68     		ldr	r3, [r3, #4]
 469              		.loc 1 236 62
 470 007c 9B68     		ldr	r3, [r3, #8]
 471              		.loc 1 236 8
 472 007e FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 473 0080 1046     		mov	r0, r2
 474 0082 9847     		blx	r3
 475              	.LVL0:
 476 0084 0346     		mov	r3, r0
 477              		.loc 1 236 6
 478 0086 002B     		cmp	r3, #0
 479 0088 0BD0     		beq	.L28
 237:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 238:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 480              		.loc 1 238 5
 481 008a F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 482 008c 3A23     		movs	r3, #58
 483 008e 0222     		movs	r2, #2
 484 0090 F868     		ldr	r0, [r7, #12]
 485 0092 FFF7FEFF 		bl	SCSI_SenseCode
 239:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_NO_DATA;
 486              		.loc 1 239 21
 487 0096 7B69     		ldr	r3, [r7, #20]
 488 0098 0522     		movs	r2, #5
 489 009a 1A72     		strb	r2, [r3, #8]
 240:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 241:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 490              		.loc 1 241 12
 491 009c 4FF0FF33 		mov	r3, #-1
 492 00a0 03E0     		b	.L25
 493              	.L28:
 242:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 243:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = 0U;
 494              		.loc 1 243 25
 495 00a2 7B69     		ldr	r3, [r7, #20]
 496 00a4 0022     		movs	r2, #0
 497 00a6 DA60     		str	r2, [r3, #12]
 244:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 245:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 498              		.loc 1 245 10
 499 00a8 0023     		movs	r3, #0
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 14


 500              	.L25:
 246:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 501              		.loc 1 246 1
 502 00aa 1846     		mov	r0, r3
 503 00ac 1837     		adds	r7, r7, #24
 504              	.LCFI8:
 505              		.cfi_def_cfa_offset 8
 506 00ae BD46     		mov	sp, r7
 507              	.LCFI9:
 508              		.cfi_def_cfa_register 13
 509              		@ sp needed
 510 00b0 80BD     		pop	{r7, pc}
 511              		.cfi_endproc
 512              	.LFE146:
 514              		.section	.text.SCSI_Inquiry,"ax",%progbits
 515              		.align	1
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 520              	SCSI_Inquiry:
 521              	.LFB147:
 247:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 248:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 249:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 250:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_Inquiry
 251:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Inquiry command
 252:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 253:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 254:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 255:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 256:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Inquiry(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 257:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 522              		.loc 1 257 1
 523              		.cfi_startproc
 524              		@ args = 0, pretend = 0, frame = 32
 525              		@ frame_needed = 1, uses_anonymous_args = 0
 526 0000 80B5     		push	{r7, lr}
 527              	.LCFI10:
 528              		.cfi_def_cfa_offset 8
 529              		.cfi_offset 7, -8
 530              		.cfi_offset 14, -4
 531 0002 88B0     		sub	sp, sp, #32
 532              	.LCFI11:
 533              		.cfi_def_cfa_offset 40
 534 0004 00AF     		add	r7, sp, #0
 535              	.LCFI12:
 536              		.cfi_def_cfa_register 7
 537 0006 F860     		str	r0, [r7, #12]
 538 0008 0B46     		mov	r3, r1
 539 000a 7A60     		str	r2, [r7, #4]
 540 000c FB72     		strb	r3, [r7, #11]
 258:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint8_t *pPage;
 259:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint16_t len;
 260:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 541              		.loc 1 260 94
 542 000e FB68     		ldr	r3, [r7, #12]
 543 0010 D3F8D422 		ldr	r2, [r3, #724]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 15


 544              		.loc 1 260 31
 545 0014 FB68     		ldr	r3, [r7, #12]
 546 0016 B032     		adds	r2, r2, #176
 547 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 548 001c BB61     		str	r3, [r7, #24]
 261:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 262:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 549              		.loc 1 262 6
 550 001e BB69     		ldr	r3, [r7, #24]
 551 0020 002B     		cmp	r3, #0
 552 0022 02D1     		bne	.L30
 263:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 264:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 553              		.loc 1 264 12
 554 0024 4FF0FF33 		mov	r3, #-1
 555 0028 5FE0     		b	.L31
 556              	.L30:
 265:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 266:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 267:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->cbw.dDataLength == 0U)
 557              		.loc 1 267 16
 558 002a BB69     		ldr	r3, [r7, #24]
 559 002c D3F81832 		ldr	r3, [r3, #536]
 560              		.loc 1 267 6
 561 0030 002B     		cmp	r3, #0
 562 0032 0AD1     		bne	.L32
 268:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 269:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 563              		.loc 1 269 5
 564 0034 BB69     		ldr	r3, [r7, #24]
 565 0036 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 566 003a 2023     		movs	r3, #32
 567 003c 0522     		movs	r2, #5
 568 003e F868     		ldr	r0, [r7, #12]
 569 0040 FFF7FEFF 		bl	SCSI_SenseCode
 270:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 570              		.loc 1 270 12
 571 0044 4FF0FF33 		mov	r3, #-1
 572 0048 4FE0     		b	.L31
 573              	.L32:
 271:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 272:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 273:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((params[1] & 0x01U) != 0U) /* Evpd is set */
 574              		.loc 1 273 14
 575 004a 7B68     		ldr	r3, [r7, #4]
 576 004c 0133     		adds	r3, r3, #1
 577 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 578              		.loc 1 273 18
 579 0050 03F00103 		and	r3, r3, #1
 580              		.loc 1 273 6
 581 0054 002B     		cmp	r3, #0
 582 0056 20D0     		beq	.L33
 274:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 275:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (params[2] == 0U) /* Request for Supported Vital Product Data Pages*/
 583              		.loc 1 275 15
 584 0058 7B68     		ldr	r3, [r7, #4]
 585 005a 0233     		adds	r3, r3, #2
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 16


 586 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 587              		.loc 1 275 8
 588 005e 002B     		cmp	r3, #0
 589 0060 05D1     		bne	.L34
 276:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 277:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       (void)SCSI_UpdateBotData(hmsc, MSC_Page00_Inquiry_Data, LENGTH_INQUIRY_PAGE00);
 590              		.loc 1 277 13
 591 0062 0622     		movs	r2, #6
 592 0064 2349     		ldr	r1, .L38
 593 0066 B869     		ldr	r0, [r7, #24]
 594 0068 FFF7FEFF 		bl	SCSI_UpdateBotData
 595 006c 3CE0     		b	.L35
 596              	.L34:
 278:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 279:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     else if (params[2] == 0x80U) /* Request for VPD page 0x80 Unit Serial Number */
 597              		.loc 1 279 20
 598 006e 7B68     		ldr	r3, [r7, #4]
 599 0070 0233     		adds	r3, r3, #2
 600 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 601              		.loc 1 279 13
 602 0074 802B     		cmp	r3, #128
 603 0076 05D1     		bne	.L36
 280:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 281:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       (void)SCSI_UpdateBotData(hmsc, MSC_Page80_Inquiry_Data, LENGTH_INQUIRY_PAGE80);
 604              		.loc 1 281 13
 605 0078 0822     		movs	r2, #8
 606 007a 1F49     		ldr	r1, .L38+4
 607 007c B869     		ldr	r0, [r7, #24]
 608 007e FFF7FEFF 		bl	SCSI_UpdateBotData
 609 0082 31E0     		b	.L35
 610              	.L36:
 282:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 283:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     else /* Request Not supported */
 284:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 285:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST,
 611              		.loc 1 285 7
 612 0084 BB69     		ldr	r3, [r7, #24]
 613 0086 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 614 008a 2423     		movs	r3, #36
 615 008c 0522     		movs	r2, #5
 616 008e F868     		ldr	r0, [r7, #12]
 617 0090 FFF7FEFF 		bl	SCSI_SenseCode
 286:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                      INVALID_FIELED_IN_COMMAND);
 287:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 288:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 618              		.loc 1 288 14
 619 0094 4FF0FF33 		mov	r3, #-1
 620 0098 27E0     		b	.L31
 621              	.L33:
 289:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 290:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 291:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else
 292:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 293:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 294:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     pPage = (uint8_t *) & ((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->pInquiry[lun * S
 622              		.loc 1 294 71
 623 009a FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 17


 624 009c D3F8D432 		ldr	r3, [r3, #724]
 625              		.loc 1 294 66
 626 00a0 FA68     		ldr	r2, [r7, #12]
 627 00a2 B033     		adds	r3, r3, #176
 628 00a4 9B00     		lsls	r3, r3, #2
 629 00a6 1344     		add	r3, r3, r2
 630 00a8 5B68     		ldr	r3, [r3, #4]
 631              		.loc 1 294 82
 632 00aa D969     		ldr	r1, [r3, #28]
 633              		.loc 1 294 97
 634 00ac FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 635 00ae 1346     		mov	r3, r2
 636 00b0 DB00     		lsls	r3, r3, #3
 637 00b2 1344     		add	r3, r3, r2
 638 00b4 9B00     		lsls	r3, r3, #2
 639              		.loc 1 294 11
 640 00b6 0B44     		add	r3, r3, r1
 641 00b8 7B61     		str	r3, [r7, #20]
 295:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = (uint16_t)pPage[4] + 5U;
 642              		.loc 1 295 26
 643 00ba 7B69     		ldr	r3, [r7, #20]
 644 00bc 0433     		adds	r3, r3, #4
 645 00be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 646 00c0 9BB2     		uxth	r3, r3
 647              		.loc 1 295 9
 648 00c2 0533     		adds	r3, r3, #5
 649 00c4 FB83     		strh	r3, [r7, #30]	@ movhi
 296:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 297:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (params[4] <= len)
 650              		.loc 1 297 15
 651 00c6 7B68     		ldr	r3, [r7, #4]
 652 00c8 0433     		adds	r3, r3, #4
 653 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 654 00cc 9BB2     		uxth	r3, r3
 655              		.loc 1 297 8
 656 00ce FA8B     		ldrh	r2, [r7, #30]
 657 00d0 9A42     		cmp	r2, r3
 658 00d2 03D3     		bcc	.L37
 298:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 299:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       len = params[4];
 659              		.loc 1 299 19
 660 00d4 7B68     		ldr	r3, [r7, #4]
 661 00d6 0433     		adds	r3, r3, #4
 662 00d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 663              		.loc 1 299 11
 664 00da FB83     		strh	r3, [r7, #30]	@ movhi
 665              	.L37:
 300:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 301:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 302:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     (void)SCSI_UpdateBotData(hmsc, pPage, len);
 666              		.loc 1 302 11
 667 00dc FB8B     		ldrh	r3, [r7, #30]
 668 00de 1A46     		mov	r2, r3
 669 00e0 7969     		ldr	r1, [r7, #20]
 670 00e2 B869     		ldr	r0, [r7, #24]
 671 00e4 FFF7FEFF 		bl	SCSI_UpdateBotData
 672              	.L35:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 18


 303:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 304:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 305:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 673              		.loc 1 305 10
 674 00e8 0023     		movs	r3, #0
 675              	.L31:
 306:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 676              		.loc 1 306 1
 677 00ea 1846     		mov	r0, r3
 678 00ec 2037     		adds	r7, r7, #32
 679              	.LCFI13:
 680              		.cfi_def_cfa_offset 8
 681 00ee BD46     		mov	sp, r7
 682              	.LCFI14:
 683              		.cfi_def_cfa_register 13
 684              		@ sp needed
 685 00f0 80BD     		pop	{r7, pc}
 686              	.L39:
 687 00f2 00BF     		.align	2
 688              	.L38:
 689 00f4 00000000 		.word	MSC_Page00_Inquiry_Data
 690 00f8 00000000 		.word	MSC_Page80_Inquiry_Data
 691              		.cfi_endproc
 692              	.LFE147:
 694              		.section	.text.SCSI_ReadCapacity10,"ax",%progbits
 695              		.align	1
 696              		.syntax unified
 697              		.thumb
 698              		.thumb_func
 700              	SCSI_ReadCapacity10:
 701              	.LFB148:
 307:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 308:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 309:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 310:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ReadCapacity10
 311:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Read Capacity 10 command
 312:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 313:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 314:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 315:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 316:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ReadCapacity10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 317:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 702              		.loc 1 317 1
 703              		.cfi_startproc
 704              		@ args = 0, pretend = 0, frame = 24
 705              		@ frame_needed = 1, uses_anonymous_args = 0
 706 0000 80B5     		push	{r7, lr}
 707              	.LCFI15:
 708              		.cfi_def_cfa_offset 8
 709              		.cfi_offset 7, -8
 710              		.cfi_offset 14, -4
 711 0002 86B0     		sub	sp, sp, #24
 712              	.LCFI16:
 713              		.cfi_def_cfa_offset 32
 714 0004 00AF     		add	r7, sp, #0
 715              	.LCFI17:
 716              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 19


 717 0006 F860     		str	r0, [r7, #12]
 718 0008 0B46     		mov	r3, r1
 719 000a 7A60     		str	r2, [r7, #4]
 720 000c FB72     		strb	r3, [r7, #11]
 318:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(params);
 319:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   int8_t ret;
 320:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 721              		.loc 1 320 94
 722 000e FB68     		ldr	r3, [r7, #12]
 723 0010 D3F8D422 		ldr	r2, [r3, #724]
 724              		.loc 1 320 31
 725 0014 FB68     		ldr	r3, [r7, #12]
 726 0016 B032     		adds	r2, r2, #176
 727 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 728 001c 7B61     		str	r3, [r7, #20]
 321:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 322:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 729              		.loc 1 322 6
 730 001e 7B69     		ldr	r3, [r7, #20]
 731 0020 002B     		cmp	r3, #0
 732 0022 02D1     		bne	.L41
 323:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 324:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 733              		.loc 1 324 12
 734 0024 4FF0FF33 		mov	r3, #-1
 735 0028 64E0     		b	.L42
 736              	.L41:
 325:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 326:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 327:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   ret = ((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->GetCapacity(lun, &hmsc->scsi_blk_n
 737              		.loc 1 327 53
 738 002a FB68     		ldr	r3, [r7, #12]
 739 002c D3F8D432 		ldr	r3, [r3, #724]
 740              		.loc 1 327 48
 741 0030 FA68     		ldr	r2, [r7, #12]
 742 0032 B033     		adds	r3, r3, #176
 743 0034 9B00     		lsls	r3, r3, #2
 744 0036 1344     		add	r3, r3, r2
 745 0038 5B68     		ldr	r3, [r3, #4]
 746              		.loc 1 327 64
 747 003a 5B68     		ldr	r3, [r3, #4]
 748              		.loc 1 327 10
 749 003c 7A69     		ldr	r2, [r7, #20]
 750 003e 02F51A71 		add	r1, r2, #616
 751 0042 7A69     		ldr	r2, [r7, #20]
 752 0044 02F51972 		add	r2, r2, #612
 753 0048 F87A     		ldrb	r0, [r7, #11]	@ zero_extendqisi2
 754 004a 9847     		blx	r3
 755              	.LVL1:
 756 004c 0346     		mov	r3, r0
 757 004e FB74     		strb	r3, [r7, #19]
 328:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 329:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((ret != 0) || (hmsc->scsi_medium_state == SCSI_MEDIUM_EJECTED))
 758              		.loc 1 329 6
 759 0050 97F91330 		ldrsb	r3, [r7, #19]
 760 0054 002B     		cmp	r3, #0
 761 0056 04D1     		bne	.L43
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 20


 762              		.loc 1 329 26 discriminator 1
 763 0058 7B69     		ldr	r3, [r7, #20]
 764 005a 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 765              		.loc 1 329 18 discriminator 1
 766 005e 022B     		cmp	r3, #2
 767 0060 08D1     		bne	.L44
 768              	.L43:
 330:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 331:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 769              		.loc 1 331 5
 770 0062 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 771 0064 3A23     		movs	r3, #58
 772 0066 0222     		movs	r2, #2
 773 0068 F868     		ldr	r0, [r7, #12]
 774 006a FFF7FEFF 		bl	SCSI_SenseCode
 332:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 775              		.loc 1 332 12
 776 006e 4FF0FF33 		mov	r3, #-1
 777 0072 3FE0     		b	.L42
 778              	.L44:
 333:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 334:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 335:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[0] = (uint8_t)((hmsc->scsi_blk_nbr - 1U) >> 24);
 779              		.loc 1 335 38
 780 0074 7B69     		ldr	r3, [r7, #20]
 781 0076 D3F86832 		ldr	r3, [r3, #616]
 782              		.loc 1 335 53
 783 007a 013B     		subs	r3, r3, #1
 784              		.loc 1 335 59
 785 007c 1B0E     		lsrs	r3, r3, #24
 786              		.loc 1 335 23
 787 007e DAB2     		uxtb	r2, r3
 788              		.loc 1 335 21
 789 0080 7B69     		ldr	r3, [r7, #20]
 790 0082 1A74     		strb	r2, [r3, #16]
 336:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[1] = (uint8_t)((hmsc->scsi_blk_nbr - 1U) >> 16);
 791              		.loc 1 336 38
 792 0084 7B69     		ldr	r3, [r7, #20]
 793 0086 D3F86832 		ldr	r3, [r3, #616]
 794              		.loc 1 336 53
 795 008a 013B     		subs	r3, r3, #1
 796              		.loc 1 336 59
 797 008c 1B0C     		lsrs	r3, r3, #16
 798              		.loc 1 336 23
 799 008e DAB2     		uxtb	r2, r3
 800              		.loc 1 336 21
 801 0090 7B69     		ldr	r3, [r7, #20]
 802 0092 5A74     		strb	r2, [r3, #17]
 337:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[2] = (uint8_t)((hmsc->scsi_blk_nbr - 1U) >>  8);
 803              		.loc 1 337 38
 804 0094 7B69     		ldr	r3, [r7, #20]
 805 0096 D3F86832 		ldr	r3, [r3, #616]
 806              		.loc 1 337 53
 807 009a 013B     		subs	r3, r3, #1
 808              		.loc 1 337 59
 809 009c 1B0A     		lsrs	r3, r3, #8
 810              		.loc 1 337 23
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 21


 811 009e DAB2     		uxtb	r2, r3
 812              		.loc 1 337 21
 813 00a0 7B69     		ldr	r3, [r7, #20]
 814 00a2 9A74     		strb	r2, [r3, #18]
 338:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[3] = (uint8_t)(hmsc->scsi_blk_nbr - 1U);
 815              		.loc 1 338 37
 816 00a4 7B69     		ldr	r3, [r7, #20]
 817 00a6 D3F86832 		ldr	r3, [r3, #616]
 818              		.loc 1 338 23
 819 00aa DBB2     		uxtb	r3, r3
 820 00ac 013B     		subs	r3, r3, #1
 821 00ae DAB2     		uxtb	r2, r3
 822              		.loc 1 338 21
 823 00b0 7B69     		ldr	r3, [r7, #20]
 824 00b2 DA74     		strb	r2, [r3, #19]
 339:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 340:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[4] = (uint8_t)(hmsc->scsi_blk_size >>  24);
 825              		.loc 1 340 37
 826 00b4 7B69     		ldr	r3, [r7, #20]
 827 00b6 B3F86432 		ldrh	r3, [r3, #612]
 828              		.loc 1 340 53
 829 00ba 1B16     		asrs	r3, r3, #24
 830              		.loc 1 340 23
 831 00bc DAB2     		uxtb	r2, r3
 832              		.loc 1 340 21
 833 00be 7B69     		ldr	r3, [r7, #20]
 834 00c0 1A75     		strb	r2, [r3, #20]
 341:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[5] = (uint8_t)(hmsc->scsi_blk_size >>  16);
 835              		.loc 1 341 37
 836 00c2 7B69     		ldr	r3, [r7, #20]
 837 00c4 B3F86432 		ldrh	r3, [r3, #612]
 838              		.loc 1 341 53
 839 00c8 1B14     		asrs	r3, r3, #16
 840              		.loc 1 341 23
 841 00ca DAB2     		uxtb	r2, r3
 842              		.loc 1 341 21
 843 00cc 7B69     		ldr	r3, [r7, #20]
 844 00ce 5A75     		strb	r2, [r3, #21]
 342:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[6] = (uint8_t)(hmsc->scsi_blk_size >>  8);
 845              		.loc 1 342 37
 846 00d0 7B69     		ldr	r3, [r7, #20]
 847 00d2 B3F86432 		ldrh	r3, [r3, #612]
 848              		.loc 1 342 23
 849 00d6 1B0A     		lsrs	r3, r3, #8
 850 00d8 9BB2     		uxth	r3, r3
 851 00da DAB2     		uxtb	r2, r3
 852              		.loc 1 342 21
 853 00dc 7B69     		ldr	r3, [r7, #20]
 854 00de 9A75     		strb	r2, [r3, #22]
 343:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[7] = (uint8_t)(hmsc->scsi_blk_size);
 855              		.loc 1 343 37
 856 00e0 7B69     		ldr	r3, [r7, #20]
 857 00e2 B3F86432 		ldrh	r3, [r3, #612]
 858              		.loc 1 343 23
 859 00e6 DAB2     		uxtb	r2, r3
 860              		.loc 1 343 21
 861 00e8 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 22


 862 00ea DA75     		strb	r2, [r3, #23]
 344:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 345:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = 8U;
 863              		.loc 1 345 25
 864 00ec 7B69     		ldr	r3, [r7, #20]
 865 00ee 0822     		movs	r2, #8
 866 00f0 DA60     		str	r2, [r3, #12]
 346:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 347:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 867              		.loc 1 347 10
 868 00f2 0023     		movs	r3, #0
 869              	.L42:
 348:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 349:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 870              		.loc 1 349 1
 871 00f4 1846     		mov	r0, r3
 872 00f6 1837     		adds	r7, r7, #24
 873              	.LCFI18:
 874              		.cfi_def_cfa_offset 8
 875 00f8 BD46     		mov	sp, r7
 876              	.LCFI19:
 877              		.cfi_def_cfa_register 13
 878              		@ sp needed
 879 00fa 80BD     		pop	{r7, pc}
 880              		.cfi_endproc
 881              	.LFE148:
 883              		.section	.text.SCSI_ReadCapacity16,"ax",%progbits
 884              		.align	1
 885              		.syntax unified
 886              		.thumb
 887              		.thumb_func
 889              	SCSI_ReadCapacity16:
 890              	.LFB149:
 350:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 351:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 352:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 353:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ReadCapacity16
 354:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Read Capacity 16 command
 355:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 356:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 357:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 358:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 359:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ReadCapacity16(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 360:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 891              		.loc 1 360 1
 892              		.cfi_startproc
 893              		@ args = 0, pretend = 0, frame = 32
 894              		@ frame_needed = 1, uses_anonymous_args = 0
 895 0000 80B5     		push	{r7, lr}
 896              	.LCFI20:
 897              		.cfi_def_cfa_offset 8
 898              		.cfi_offset 7, -8
 899              		.cfi_offset 14, -4
 900 0002 88B0     		sub	sp, sp, #32
 901              	.LCFI21:
 902              		.cfi_def_cfa_offset 40
 903 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 23


 904              	.LCFI22:
 905              		.cfi_def_cfa_register 7
 906 0006 F860     		str	r0, [r7, #12]
 907 0008 0B46     		mov	r3, r1
 908 000a 7A60     		str	r2, [r7, #4]
 909 000c FB72     		strb	r3, [r7, #11]
 361:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(params);
 362:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint8_t idx;
 363:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   int8_t ret;
 364:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 910              		.loc 1 364 94
 911 000e FB68     		ldr	r3, [r7, #12]
 912 0010 D3F8D422 		ldr	r2, [r3, #724]
 913              		.loc 1 364 31
 914 0014 FB68     		ldr	r3, [r7, #12]
 915 0016 B032     		adds	r2, r2, #176
 916 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 917 001c BB61     		str	r3, [r7, #24]
 365:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 366:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 918              		.loc 1 366 6
 919 001e BB69     		ldr	r3, [r7, #24]
 920 0020 002B     		cmp	r3, #0
 921 0022 02D1     		bne	.L46
 367:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 368:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 922              		.loc 1 368 12
 923 0024 4FF0FF33 		mov	r3, #-1
 924 0028 99E0     		b	.L47
 925              	.L46:
 369:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 370:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 371:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   ret = ((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->GetCapacity(lun, &hmsc->scsi_blk_n
 926              		.loc 1 371 53
 927 002a FB68     		ldr	r3, [r7, #12]
 928 002c D3F8D432 		ldr	r3, [r3, #724]
 929              		.loc 1 371 48
 930 0030 FA68     		ldr	r2, [r7, #12]
 931 0032 B033     		adds	r3, r3, #176
 932 0034 9B00     		lsls	r3, r3, #2
 933 0036 1344     		add	r3, r3, r2
 934 0038 5B68     		ldr	r3, [r3, #4]
 935              		.loc 1 371 64
 936 003a 5B68     		ldr	r3, [r3, #4]
 937              		.loc 1 371 10
 938 003c BA69     		ldr	r2, [r7, #24]
 939 003e 02F51A71 		add	r1, r2, #616
 940 0042 BA69     		ldr	r2, [r7, #24]
 941 0044 02F51972 		add	r2, r2, #612
 942 0048 F87A     		ldrb	r0, [r7, #11]	@ zero_extendqisi2
 943 004a 9847     		blx	r3
 944              	.LVL2:
 945 004c 0346     		mov	r3, r0
 946 004e FB75     		strb	r3, [r7, #23]
 372:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 373:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((ret != 0) || (hmsc->scsi_medium_state == SCSI_MEDIUM_EJECTED))
 947              		.loc 1 373 6
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 24


 948 0050 97F91730 		ldrsb	r3, [r7, #23]
 949 0054 002B     		cmp	r3, #0
 950 0056 04D1     		bne	.L48
 951              		.loc 1 373 26 discriminator 1
 952 0058 BB69     		ldr	r3, [r7, #24]
 953 005a 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 954              		.loc 1 373 18 discriminator 1
 955 005e 022B     		cmp	r3, #2
 956 0060 08D1     		bne	.L49
 957              	.L48:
 374:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 375:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 958              		.loc 1 375 5
 959 0062 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 960 0064 3A23     		movs	r3, #58
 961 0066 0222     		movs	r2, #2
 962 0068 F868     		ldr	r0, [r7, #12]
 963 006a FFF7FEFF 		bl	SCSI_SenseCode
 376:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 964              		.loc 1 376 12
 965 006e 4FF0FF33 		mov	r3, #-1
 966 0072 74E0     		b	.L47
 967              	.L49:
 377:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 378:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 379:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = ((uint32_t)params[10] << 24) |
 968              		.loc 1 379 44
 969 0074 7B68     		ldr	r3, [r7, #4]
 970 0076 0A33     		adds	r3, r3, #10
 971 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 972              		.loc 1 379 49
 973 007a 1A06     		lsls	r2, r3, #24
 380:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 974              		.loc 1 380 44
 975 007c 7B68     		ldr	r3, [r7, #4]
 976 007e 0B33     		adds	r3, r3, #11
 977 0080 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 978              		.loc 1 380 49
 979 0082 1B04     		lsls	r3, r3, #16
 379:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 980              		.loc 1 379 56
 981 0084 1A43     		orrs	r2, r2, r3
 381:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[12] <<  8) |
 982              		.loc 1 381 44
 983 0086 7B68     		ldr	r3, [r7, #4]
 984 0088 0C33     		adds	r3, r3, #12
 985 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 986              		.loc 1 381 49
 987 008c 1B02     		lsls	r3, r3, #8
 380:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 988              		.loc 1 380 56
 989 008e 1343     		orrs	r3, r3, r2
 382:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           (uint32_t)params[13];
 990              		.loc 1 382 43
 991 0090 7A68     		ldr	r2, [r7, #4]
 992 0092 0D32     		adds	r2, r2, #13
 993 0094 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 25


 381:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[12] <<  8) |
 994              		.loc 1 381 56
 995 0096 1A43     		orrs	r2, r2, r3
 379:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 996              		.loc 1 379 25
 997 0098 BB69     		ldr	r3, [r7, #24]
 998 009a DA60     		str	r2, [r3, #12]
 383:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 384:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   for (idx = 0U; idx < hmsc->bot_data_length; idx++)
 999              		.loc 1 384 12
 1000 009c 0023     		movs	r3, #0
 1001 009e FB77     		strb	r3, [r7, #31]
 1002              		.loc 1 384 3
 1003 00a0 07E0     		b	.L50
 1004              	.L51:
 385:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 386:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[idx] = 0U;
 1005              		.loc 1 386 19 discriminator 3
 1006 00a2 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1007              		.loc 1 386 25 discriminator 3
 1008 00a4 BA69     		ldr	r2, [r7, #24]
 1009 00a6 1344     		add	r3, r3, r2
 1010 00a8 0022     		movs	r2, #0
 1011 00aa 1A74     		strb	r2, [r3, #16]
 384:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1012              		.loc 1 384 50 discriminator 3
 1013 00ac FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1014 00ae 0133     		adds	r3, r3, #1
 1015 00b0 FB77     		strb	r3, [r7, #31]
 1016              	.L50:
 384:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1017              		.loc 1 384 22 discriminator 1
 1018 00b2 FA7F     		ldrb	r2, [r7, #31]	@ zero_extendqisi2
 384:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1019              		.loc 1 384 28 discriminator 1
 1020 00b4 BB69     		ldr	r3, [r7, #24]
 1021 00b6 DB68     		ldr	r3, [r3, #12]
 384:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1022              		.loc 1 384 3 discriminator 1
 1023 00b8 9A42     		cmp	r2, r3
 1024 00ba F2D3     		bcc	.L51
 387:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 388:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 389:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[4] = (uint8_t)((hmsc->scsi_blk_nbr - 1U) >> 24);
 1025              		.loc 1 389 38
 1026 00bc BB69     		ldr	r3, [r7, #24]
 1027 00be D3F86832 		ldr	r3, [r3, #616]
 1028              		.loc 1 389 53
 1029 00c2 013B     		subs	r3, r3, #1
 1030              		.loc 1 389 59
 1031 00c4 1B0E     		lsrs	r3, r3, #24
 1032              		.loc 1 389 23
 1033 00c6 DAB2     		uxtb	r2, r3
 1034              		.loc 1 389 21
 1035 00c8 BB69     		ldr	r3, [r7, #24]
 1036 00ca 1A75     		strb	r2, [r3, #20]
 390:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[5] = (uint8_t)((hmsc->scsi_blk_nbr - 1U) >> 16);
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 26


 1037              		.loc 1 390 38
 1038 00cc BB69     		ldr	r3, [r7, #24]
 1039 00ce D3F86832 		ldr	r3, [r3, #616]
 1040              		.loc 1 390 53
 1041 00d2 013B     		subs	r3, r3, #1
 1042              		.loc 1 390 59
 1043 00d4 1B0C     		lsrs	r3, r3, #16
 1044              		.loc 1 390 23
 1045 00d6 DAB2     		uxtb	r2, r3
 1046              		.loc 1 390 21
 1047 00d8 BB69     		ldr	r3, [r7, #24]
 1048 00da 5A75     		strb	r2, [r3, #21]
 391:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[6] = (uint8_t)((hmsc->scsi_blk_nbr - 1U) >>  8);
 1049              		.loc 1 391 38
 1050 00dc BB69     		ldr	r3, [r7, #24]
 1051 00de D3F86832 		ldr	r3, [r3, #616]
 1052              		.loc 1 391 53
 1053 00e2 013B     		subs	r3, r3, #1
 1054              		.loc 1 391 59
 1055 00e4 1B0A     		lsrs	r3, r3, #8
 1056              		.loc 1 391 23
 1057 00e6 DAB2     		uxtb	r2, r3
 1058              		.loc 1 391 21
 1059 00e8 BB69     		ldr	r3, [r7, #24]
 1060 00ea 9A75     		strb	r2, [r3, #22]
 392:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[7] = (uint8_t)(hmsc->scsi_blk_nbr - 1U);
 1061              		.loc 1 392 37
 1062 00ec BB69     		ldr	r3, [r7, #24]
 1063 00ee D3F86832 		ldr	r3, [r3, #616]
 1064              		.loc 1 392 23
 1065 00f2 DBB2     		uxtb	r3, r3
 1066 00f4 013B     		subs	r3, r3, #1
 1067 00f6 DAB2     		uxtb	r2, r3
 1068              		.loc 1 392 21
 1069 00f8 BB69     		ldr	r3, [r7, #24]
 1070 00fa DA75     		strb	r2, [r3, #23]
 393:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 394:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[8] = (uint8_t)(hmsc->scsi_blk_size >>  24);
 1071              		.loc 1 394 37
 1072 00fc BB69     		ldr	r3, [r7, #24]
 1073 00fe B3F86432 		ldrh	r3, [r3, #612]
 1074              		.loc 1 394 53
 1075 0102 1B16     		asrs	r3, r3, #24
 1076              		.loc 1 394 23
 1077 0104 DAB2     		uxtb	r2, r3
 1078              		.loc 1 394 21
 1079 0106 BB69     		ldr	r3, [r7, #24]
 1080 0108 1A76     		strb	r2, [r3, #24]
 395:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[9] = (uint8_t)(hmsc->scsi_blk_size >>  16);
 1081              		.loc 1 395 37
 1082 010a BB69     		ldr	r3, [r7, #24]
 1083 010c B3F86432 		ldrh	r3, [r3, #612]
 1084              		.loc 1 395 53
 1085 0110 1B14     		asrs	r3, r3, #16
 1086              		.loc 1 395 23
 1087 0112 DAB2     		uxtb	r2, r3
 1088              		.loc 1 395 21
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 27


 1089 0114 BB69     		ldr	r3, [r7, #24]
 1090 0116 5A76     		strb	r2, [r3, #25]
 396:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[10] = (uint8_t)(hmsc->scsi_blk_size >>  8);
 1091              		.loc 1 396 38
 1092 0118 BB69     		ldr	r3, [r7, #24]
 1093 011a B3F86432 		ldrh	r3, [r3, #612]
 1094              		.loc 1 396 24
 1095 011e 1B0A     		lsrs	r3, r3, #8
 1096 0120 9BB2     		uxth	r3, r3
 1097 0122 DAB2     		uxtb	r2, r3
 1098              		.loc 1 396 22
 1099 0124 BB69     		ldr	r3, [r7, #24]
 1100 0126 9A76     		strb	r2, [r3, #26]
 397:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[11] = (uint8_t)(hmsc->scsi_blk_size);
 1101              		.loc 1 397 38
 1102 0128 BB69     		ldr	r3, [r7, #24]
 1103 012a B3F86432 		ldrh	r3, [r3, #612]
 1104              		.loc 1 397 24
 1105 012e DAB2     		uxtb	r2, r3
 1106              		.loc 1 397 22
 1107 0130 BB69     		ldr	r3, [r7, #24]
 1108 0132 DA76     		strb	r2, [r3, #27]
 398:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 399:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = ((uint32_t)params[10] << 24) |
 1109              		.loc 1 399 44
 1110 0134 7B68     		ldr	r3, [r7, #4]
 1111 0136 0A33     		adds	r3, r3, #10
 1112 0138 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1113              		.loc 1 399 49
 1114 013a 1A06     		lsls	r2, r3, #24
 400:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 1115              		.loc 1 400 44
 1116 013c 7B68     		ldr	r3, [r7, #4]
 1117 013e 0B33     		adds	r3, r3, #11
 1118 0140 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1119              		.loc 1 400 49
 1120 0142 1B04     		lsls	r3, r3, #16
 399:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 1121              		.loc 1 399 56
 1122 0144 1A43     		orrs	r2, r2, r3
 401:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[12] <<  8) |
 1123              		.loc 1 401 44
 1124 0146 7B68     		ldr	r3, [r7, #4]
 1125 0148 0C33     		adds	r3, r3, #12
 1126 014a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1127              		.loc 1 401 49
 1128 014c 1B02     		lsls	r3, r3, #8
 400:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 1129              		.loc 1 400 56
 1130 014e 1343     		orrs	r3, r3, r2
 402:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           (uint32_t)params[13];
 1131              		.loc 1 402 43
 1132 0150 7A68     		ldr	r2, [r7, #4]
 1133 0152 0D32     		adds	r2, r2, #13
 1134 0154 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 401:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[12] <<  8) |
 1135              		.loc 1 401 56
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 28


 1136 0156 1A43     		orrs	r2, r2, r3
 399:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[11] << 16) |
 1137              		.loc 1 399 25
 1138 0158 BB69     		ldr	r3, [r7, #24]
 1139 015a DA60     		str	r2, [r3, #12]
 403:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 404:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 1140              		.loc 1 404 10
 1141 015c 0023     		movs	r3, #0
 1142              	.L47:
 405:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1143              		.loc 1 405 1
 1144 015e 1846     		mov	r0, r3
 1145 0160 2037     		adds	r7, r7, #32
 1146              	.LCFI23:
 1147              		.cfi_def_cfa_offset 8
 1148 0162 BD46     		mov	sp, r7
 1149              	.LCFI24:
 1150              		.cfi_def_cfa_register 13
 1151              		@ sp needed
 1152 0164 80BD     		pop	{r7, pc}
 1153              		.cfi_endproc
 1154              	.LFE149:
 1156              		.section	.text.SCSI_ReadFormatCapacity,"ax",%progbits
 1157              		.align	1
 1158              		.syntax unified
 1159              		.thumb
 1160              		.thumb_func
 1162              	SCSI_ReadFormatCapacity:
 1163              	.LFB150:
 406:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 407:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 408:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 409:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ReadFormatCapacity
 410:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Read Format Capacity command
 411:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 412:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 413:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 414:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 415:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ReadFormatCapacity(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 416:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 1164              		.loc 1 416 1
 1165              		.cfi_startproc
 1166              		@ args = 0, pretend = 0, frame = 32
 1167              		@ frame_needed = 1, uses_anonymous_args = 0
 1168 0000 80B5     		push	{r7, lr}
 1169              	.LCFI25:
 1170              		.cfi_def_cfa_offset 8
 1171              		.cfi_offset 7, -8
 1172              		.cfi_offset 14, -4
 1173 0002 88B0     		sub	sp, sp, #32
 1174              	.LCFI26:
 1175              		.cfi_def_cfa_offset 40
 1176 0004 00AF     		add	r7, sp, #0
 1177              	.LCFI27:
 1178              		.cfi_def_cfa_register 7
 1179 0006 F860     		str	r0, [r7, #12]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 29


 1180 0008 0B46     		mov	r3, r1
 1181 000a 7A60     		str	r2, [r7, #4]
 1182 000c FB72     		strb	r3, [r7, #11]
 417:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(params);
 418:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint16_t blk_size;
 419:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint32_t blk_nbr;
 420:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint16_t i;
 421:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   int8_t ret;
 422:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1183              		.loc 1 422 94
 1184 000e FB68     		ldr	r3, [r7, #12]
 1185 0010 D3F8D422 		ldr	r2, [r3, #724]
 1186              		.loc 1 422 31
 1187 0014 FB68     		ldr	r3, [r7, #12]
 1188 0016 B032     		adds	r2, r2, #176
 1189 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1190 001c BB61     		str	r3, [r7, #24]
 423:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 424:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1191              		.loc 1 424 6
 1192 001e BB69     		ldr	r3, [r7, #24]
 1193 0020 002B     		cmp	r3, #0
 1194 0022 02D1     		bne	.L53
 425:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 426:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1195              		.loc 1 426 12
 1196 0024 4FF0FF33 		mov	r3, #-1
 1197 0028 61E0     		b	.L59
 1198              	.L53:
 427:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 428:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 429:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   ret = ((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->GetCapacity(lun, &blk_nbr, &blk_si
 1199              		.loc 1 429 53
 1200 002a FB68     		ldr	r3, [r7, #12]
 1201 002c D3F8D432 		ldr	r3, [r3, #724]
 1202              		.loc 1 429 48
 1203 0030 FA68     		ldr	r2, [r7, #12]
 1204 0032 B033     		adds	r3, r3, #176
 1205 0034 9B00     		lsls	r3, r3, #2
 1206 0036 1344     		add	r3, r3, r2
 1207 0038 5B68     		ldr	r3, [r3, #4]
 1208              		.loc 1 429 64
 1209 003a 5B68     		ldr	r3, [r3, #4]
 1210              		.loc 1 429 10
 1211 003c 07F11402 		add	r2, r7, #20
 1212 0040 07F11001 		add	r1, r7, #16
 1213 0044 F87A     		ldrb	r0, [r7, #11]	@ zero_extendqisi2
 1214 0046 9847     		blx	r3
 1215              	.LVL3:
 1216 0048 0346     		mov	r3, r0
 1217 004a FB75     		strb	r3, [r7, #23]
 430:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 431:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((ret != 0) || (hmsc->scsi_medium_state == SCSI_MEDIUM_EJECTED))
 1218              		.loc 1 431 6
 1219 004c 97F91730 		ldrsb	r3, [r7, #23]
 1220 0050 002B     		cmp	r3, #0
 1221 0052 04D1     		bne	.L55
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 30


 1222              		.loc 1 431 26 discriminator 1
 1223 0054 BB69     		ldr	r3, [r7, #24]
 1224 0056 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 1225              		.loc 1 431 18 discriminator 1
 1226 005a 022B     		cmp	r3, #2
 1227 005c 08D1     		bne	.L56
 1228              	.L55:
 432:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 433:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 1229              		.loc 1 433 5
 1230 005e F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 1231 0060 3A23     		movs	r3, #58
 1232 0062 0222     		movs	r2, #2
 1233 0064 F868     		ldr	r0, [r7, #12]
 1234 0066 FFF7FEFF 		bl	SCSI_SenseCode
 434:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1235              		.loc 1 434 12
 1236 006a 4FF0FF33 		mov	r3, #-1
 1237 006e 3EE0     		b	.L59
 1238              	.L56:
 435:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 436:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 437:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   for (i = 0U; i < 12U ; i++)
 1239              		.loc 1 437 10
 1240 0070 0023     		movs	r3, #0
 1241 0072 FB83     		strh	r3, [r7, #30]	@ movhi
 1242              		.loc 1 437 3
 1243 0074 07E0     		b	.L57
 1244              	.L58:
 438:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 439:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[i] = 0U;
 1245              		.loc 1 439 19 discriminator 3
 1246 0076 FB8B     		ldrh	r3, [r7, #30]
 1247              		.loc 1 439 23 discriminator 3
 1248 0078 BA69     		ldr	r2, [r7, #24]
 1249 007a 1344     		add	r3, r3, r2
 1250 007c 0022     		movs	r2, #0
 1251 007e 1A74     		strb	r2, [r3, #16]
 437:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1252              		.loc 1 437 27 discriminator 3
 1253 0080 FB8B     		ldrh	r3, [r7, #30]
 1254 0082 0133     		adds	r3, r3, #1
 1255 0084 FB83     		strh	r3, [r7, #30]	@ movhi
 1256              	.L57:
 437:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1257              		.loc 1 437 3 discriminator 1
 1258 0086 FB8B     		ldrh	r3, [r7, #30]
 1259 0088 0B2B     		cmp	r3, #11
 1260 008a F4D9     		bls	.L58
 440:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 441:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 442:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[3] = 0x08U;
 1261              		.loc 1 442 21
 1262 008c BB69     		ldr	r3, [r7, #24]
 1263 008e 0822     		movs	r2, #8
 1264 0090 DA74     		strb	r2, [r3, #19]
 443:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[4] = (uint8_t)((blk_nbr - 1U) >> 24);
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 31


 1265              		.loc 1 443 42
 1266 0092 3B69     		ldr	r3, [r7, #16]
 1267 0094 013B     		subs	r3, r3, #1
 1268              		.loc 1 443 48
 1269 0096 1B0E     		lsrs	r3, r3, #24
 1270              		.loc 1 443 23
 1271 0098 DAB2     		uxtb	r2, r3
 1272              		.loc 1 443 21
 1273 009a BB69     		ldr	r3, [r7, #24]
 1274 009c 1A75     		strb	r2, [r3, #20]
 444:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[5] = (uint8_t)((blk_nbr - 1U) >> 16);
 1275              		.loc 1 444 42
 1276 009e 3B69     		ldr	r3, [r7, #16]
 1277 00a0 013B     		subs	r3, r3, #1
 1278              		.loc 1 444 48
 1279 00a2 1B0C     		lsrs	r3, r3, #16
 1280              		.loc 1 444 23
 1281 00a4 DAB2     		uxtb	r2, r3
 1282              		.loc 1 444 21
 1283 00a6 BB69     		ldr	r3, [r7, #24]
 1284 00a8 5A75     		strb	r2, [r3, #21]
 445:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[6] = (uint8_t)((blk_nbr - 1U) >>  8);
 1285              		.loc 1 445 42
 1286 00aa 3B69     		ldr	r3, [r7, #16]
 1287 00ac 013B     		subs	r3, r3, #1
 1288              		.loc 1 445 48
 1289 00ae 1B0A     		lsrs	r3, r3, #8
 1290              		.loc 1 445 23
 1291 00b0 DAB2     		uxtb	r2, r3
 1292              		.loc 1 445 21
 1293 00b2 BB69     		ldr	r3, [r7, #24]
 1294 00b4 9A75     		strb	r2, [r3, #22]
 446:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[7] = (uint8_t)(blk_nbr - 1U);
 1295              		.loc 1 446 23
 1296 00b6 3B69     		ldr	r3, [r7, #16]
 1297 00b8 DBB2     		uxtb	r3, r3
 1298 00ba 013B     		subs	r3, r3, #1
 1299 00bc DAB2     		uxtb	r2, r3
 1300              		.loc 1 446 21
 1301 00be BB69     		ldr	r3, [r7, #24]
 1302 00c0 DA75     		strb	r2, [r3, #23]
 447:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 448:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[8] = 0x02U;
 1303              		.loc 1 448 21
 1304 00c2 BB69     		ldr	r3, [r7, #24]
 1305 00c4 0222     		movs	r2, #2
 1306 00c6 1A76     		strb	r2, [r3, #24]
 449:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[9] = (uint8_t)(blk_size >>  16);
 1307              		.loc 1 449 42
 1308 00c8 BB8A     		ldrh	r3, [r7, #20]
 1309 00ca 1B14     		asrs	r3, r3, #16
 1310              		.loc 1 449 23
 1311 00cc DAB2     		uxtb	r2, r3
 1312              		.loc 1 449 21
 1313 00ce BB69     		ldr	r3, [r7, #24]
 1314 00d0 5A76     		strb	r2, [r3, #25]
 450:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[10] = (uint8_t)(blk_size >>  8);
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 32


 1315              		.loc 1 450 24
 1316 00d2 BB8A     		ldrh	r3, [r7, #20]
 1317 00d4 1B0A     		lsrs	r3, r3, #8
 1318 00d6 9BB2     		uxth	r3, r3
 1319 00d8 DAB2     		uxtb	r2, r3
 1320              		.loc 1 450 22
 1321 00da BB69     		ldr	r3, [r7, #24]
 1322 00dc 9A76     		strb	r2, [r3, #26]
 451:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[11] = (uint8_t)(blk_size);
 1323              		.loc 1 451 24
 1324 00de BB8A     		ldrh	r3, [r7, #20]
 1325 00e0 DAB2     		uxtb	r2, r3
 1326              		.loc 1 451 22
 1327 00e2 BB69     		ldr	r3, [r7, #24]
 1328 00e4 DA76     		strb	r2, [r3, #27]
 452:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 453:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = 12U;
 1329              		.loc 1 453 25
 1330 00e6 BB69     		ldr	r3, [r7, #24]
 1331 00e8 0C22     		movs	r2, #12
 1332 00ea DA60     		str	r2, [r3, #12]
 454:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 455:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 1333              		.loc 1 455 10
 1334 00ec 0023     		movs	r3, #0
 1335              	.L59:
 456:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1336              		.loc 1 456 1 discriminator 1
 1337 00ee 1846     		mov	r0, r3
 1338 00f0 2037     		adds	r7, r7, #32
 1339              	.LCFI28:
 1340              		.cfi_def_cfa_offset 8
 1341 00f2 BD46     		mov	sp, r7
 1342              	.LCFI29:
 1343              		.cfi_def_cfa_register 13
 1344              		@ sp needed
 1345 00f4 80BD     		pop	{r7, pc}
 1346              		.cfi_endproc
 1347              	.LFE150:
 1349              		.section	.text.SCSI_ModeSense6,"ax",%progbits
 1350              		.align	1
 1351              		.syntax unified
 1352              		.thumb
 1353              		.thumb_func
 1355              	SCSI_ModeSense6:
 1356              	.LFB151:
 457:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 458:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 459:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 460:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ModeSense6
 461:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Mode Sense6 command
 462:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 463:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 464:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 465:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 466:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ModeSense6(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 467:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 33


 1357              		.loc 1 467 1
 1358              		.cfi_startproc
 1359              		@ args = 0, pretend = 0, frame = 24
 1360              		@ frame_needed = 1, uses_anonymous_args = 0
 1361 0000 80B5     		push	{r7, lr}
 1362              	.LCFI30:
 1363              		.cfi_def_cfa_offset 8
 1364              		.cfi_offset 7, -8
 1365              		.cfi_offset 14, -4
 1366 0002 86B0     		sub	sp, sp, #24
 1367              	.LCFI31:
 1368              		.cfi_def_cfa_offset 32
 1369 0004 00AF     		add	r7, sp, #0
 1370              	.LCFI32:
 1371              		.cfi_def_cfa_register 7
 1372 0006 F860     		str	r0, [r7, #12]
 1373 0008 0B46     		mov	r3, r1
 1374 000a 7A60     		str	r2, [r7, #4]
 1375 000c FB72     		strb	r3, [r7, #11]
 468:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(lun);
 469:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1376              		.loc 1 469 94
 1377 000e FB68     		ldr	r3, [r7, #12]
 1378 0010 D3F8D422 		ldr	r2, [r3, #724]
 1379              		.loc 1 469 31
 1380 0014 FB68     		ldr	r3, [r7, #12]
 1381 0016 B032     		adds	r2, r2, #176
 1382 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1383 001c 3B61     		str	r3, [r7, #16]
 470:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint16_t len = MODE_SENSE6_LEN;
 1384              		.loc 1 470 12
 1385 001e 1723     		movs	r3, #23
 1386 0020 FB82     		strh	r3, [r7, #22]	@ movhi
 471:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 472:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1387              		.loc 1 472 6
 1388 0022 3B69     		ldr	r3, [r7, #16]
 1389 0024 002B     		cmp	r3, #0
 1390 0026 02D1     		bne	.L61
 473:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 474:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1391              		.loc 1 474 12
 1392 0028 4FF0FF33 		mov	r3, #-1
 1393 002c 11E0     		b	.L62
 1394              	.L61:
 475:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 476:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 477:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (params[4] <= len)
 1395              		.loc 1 477 13
 1396 002e 7B68     		ldr	r3, [r7, #4]
 1397 0030 0433     		adds	r3, r3, #4
 1398 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1399 0034 9BB2     		uxth	r3, r3
 1400              		.loc 1 477 6
 1401 0036 FA8A     		ldrh	r2, [r7, #22]
 1402 0038 9A42     		cmp	r2, r3
 1403 003a 03D3     		bcc	.L63
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 34


 478:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 479:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = params[4];
 1404              		.loc 1 479 17
 1405 003c 7B68     		ldr	r3, [r7, #4]
 1406 003e 0433     		adds	r3, r3, #4
 1407 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1408              		.loc 1 479 9
 1409 0042 FB82     		strh	r3, [r7, #22]	@ movhi
 1410              	.L63:
 480:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 481:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 482:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   (void)SCSI_UpdateBotData(hmsc, MSC_Mode_Sense6_data, len);
 1411              		.loc 1 482 9
 1412 0044 FB8A     		ldrh	r3, [r7, #22]
 1413 0046 1A46     		mov	r2, r3
 1414 0048 0449     		ldr	r1, .L64
 1415 004a 3869     		ldr	r0, [r7, #16]
 1416 004c FFF7FEFF 		bl	SCSI_UpdateBotData
 483:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 484:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 1417              		.loc 1 484 10
 1418 0050 0023     		movs	r3, #0
 1419              	.L62:
 485:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1420              		.loc 1 485 1
 1421 0052 1846     		mov	r0, r3
 1422 0054 1837     		adds	r7, r7, #24
 1423              	.LCFI33:
 1424              		.cfi_def_cfa_offset 8
 1425 0056 BD46     		mov	sp, r7
 1426              	.LCFI34:
 1427              		.cfi_def_cfa_register 13
 1428              		@ sp needed
 1429 0058 80BD     		pop	{r7, pc}
 1430              	.L65:
 1431 005a 00BF     		.align	2
 1432              	.L64:
 1433 005c 00000000 		.word	MSC_Mode_Sense6_data
 1434              		.cfi_endproc
 1435              	.LFE151:
 1437              		.section	.text.SCSI_ModeSense10,"ax",%progbits
 1438              		.align	1
 1439              		.syntax unified
 1440              		.thumb
 1441              		.thumb_func
 1443              	SCSI_ModeSense10:
 1444              	.LFB152:
 486:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 487:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 488:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 489:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ModeSense10
 490:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Mode Sense10 command
 491:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 492:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 493:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 494:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 495:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ModeSense10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 35


 496:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 1445              		.loc 1 496 1
 1446              		.cfi_startproc
 1447              		@ args = 0, pretend = 0, frame = 24
 1448              		@ frame_needed = 1, uses_anonymous_args = 0
 1449 0000 80B5     		push	{r7, lr}
 1450              	.LCFI35:
 1451              		.cfi_def_cfa_offset 8
 1452              		.cfi_offset 7, -8
 1453              		.cfi_offset 14, -4
 1454 0002 86B0     		sub	sp, sp, #24
 1455              	.LCFI36:
 1456              		.cfi_def_cfa_offset 32
 1457 0004 00AF     		add	r7, sp, #0
 1458              	.LCFI37:
 1459              		.cfi_def_cfa_register 7
 1460 0006 F860     		str	r0, [r7, #12]
 1461 0008 0B46     		mov	r3, r1
 1462 000a 7A60     		str	r2, [r7, #4]
 1463 000c FB72     		strb	r3, [r7, #11]
 497:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(lun);
 498:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1464              		.loc 1 498 94
 1465 000e FB68     		ldr	r3, [r7, #12]
 1466 0010 D3F8D422 		ldr	r2, [r3, #724]
 1467              		.loc 1 498 31
 1468 0014 FB68     		ldr	r3, [r7, #12]
 1469 0016 B032     		adds	r2, r2, #176
 1470 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1471 001c 3B61     		str	r3, [r7, #16]
 499:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint16_t len = MODE_SENSE10_LEN;
 1472              		.loc 1 499 12
 1473 001e 1B23     		movs	r3, #27
 1474 0020 FB82     		strh	r3, [r7, #22]	@ movhi
 500:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 501:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1475              		.loc 1 501 6
 1476 0022 3B69     		ldr	r3, [r7, #16]
 1477 0024 002B     		cmp	r3, #0
 1478 0026 02D1     		bne	.L67
 502:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 503:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1479              		.loc 1 503 12
 1480 0028 4FF0FF33 		mov	r3, #-1
 1481 002c 11E0     		b	.L68
 1482              	.L67:
 504:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 505:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 506:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (params[8] <= len)
 1483              		.loc 1 506 13
 1484 002e 7B68     		ldr	r3, [r7, #4]
 1485 0030 0833     		adds	r3, r3, #8
 1486 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1487 0034 9BB2     		uxth	r3, r3
 1488              		.loc 1 506 6
 1489 0036 FA8A     		ldrh	r2, [r7, #22]
 1490 0038 9A42     		cmp	r2, r3
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 36


 1491 003a 03D3     		bcc	.L69
 507:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 508:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = params[8];
 1492              		.loc 1 508 17
 1493 003c 7B68     		ldr	r3, [r7, #4]
 1494 003e 0833     		adds	r3, r3, #8
 1495 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1496              		.loc 1 508 9
 1497 0042 FB82     		strh	r3, [r7, #22]	@ movhi
 1498              	.L69:
 509:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 510:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 511:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   (void)SCSI_UpdateBotData(hmsc, MSC_Mode_Sense10_data, len);
 1499              		.loc 1 511 9
 1500 0044 FB8A     		ldrh	r3, [r7, #22]
 1501 0046 1A46     		mov	r2, r3
 1502 0048 0449     		ldr	r1, .L70
 1503 004a 3869     		ldr	r0, [r7, #16]
 1504 004c FFF7FEFF 		bl	SCSI_UpdateBotData
 512:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 513:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 1505              		.loc 1 513 10
 1506 0050 0023     		movs	r3, #0
 1507              	.L68:
 514:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1508              		.loc 1 514 1
 1509 0052 1846     		mov	r0, r3
 1510 0054 1837     		adds	r7, r7, #24
 1511              	.LCFI38:
 1512              		.cfi_def_cfa_offset 8
 1513 0056 BD46     		mov	sp, r7
 1514              	.LCFI39:
 1515              		.cfi_def_cfa_register 13
 1516              		@ sp needed
 1517 0058 80BD     		pop	{r7, pc}
 1518              	.L71:
 1519 005a 00BF     		.align	2
 1520              	.L70:
 1521 005c 00000000 		.word	MSC_Mode_Sense10_data
 1522              		.cfi_endproc
 1523              	.LFE152:
 1525              		.section	.text.SCSI_RequestSense,"ax",%progbits
 1526              		.align	1
 1527              		.syntax unified
 1528              		.thumb
 1529              		.thumb_func
 1531              	SCSI_RequestSense:
 1532              	.LFB153:
 515:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 516:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 517:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 518:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_RequestSense
 519:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Request Sense command
 520:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 521:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 522:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 523:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 37


 524:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_RequestSense(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 525:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 1533              		.loc 1 525 1
 1534              		.cfi_startproc
 1535              		@ args = 0, pretend = 0, frame = 24
 1536              		@ frame_needed = 1, uses_anonymous_args = 0
 1537 0000 80B5     		push	{r7, lr}
 1538              	.LCFI40:
 1539              		.cfi_def_cfa_offset 8
 1540              		.cfi_offset 7, -8
 1541              		.cfi_offset 14, -4
 1542 0002 86B0     		sub	sp, sp, #24
 1543              	.LCFI41:
 1544              		.cfi_def_cfa_offset 32
 1545 0004 00AF     		add	r7, sp, #0
 1546              	.LCFI42:
 1547              		.cfi_def_cfa_register 7
 1548 0006 F860     		str	r0, [r7, #12]
 1549 0008 0B46     		mov	r3, r1
 1550 000a 7A60     		str	r2, [r7, #4]
 1551 000c FB72     		strb	r3, [r7, #11]
 526:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(lun);
 527:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint8_t i;
 528:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1552              		.loc 1 528 94
 1553 000e FB68     		ldr	r3, [r7, #12]
 1554 0010 D3F8D422 		ldr	r2, [r3, #724]
 1555              		.loc 1 528 31
 1556 0014 FB68     		ldr	r3, [r7, #12]
 1557 0016 B032     		adds	r2, r2, #176
 1558 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1559 001c 3B61     		str	r3, [r7, #16]
 529:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 530:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1560              		.loc 1 530 6
 1561 001e 3B69     		ldr	r3, [r7, #16]
 1562 0020 002B     		cmp	r3, #0
 1563 0022 02D1     		bne	.L73
 531:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 532:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1564              		.loc 1 532 12
 1565 0024 4FF0FF33 		mov	r3, #-1
 1566 0028 69E0     		b	.L74
 1567              	.L73:
 533:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 534:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 535:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->cbw.dDataLength == 0U)
 1568              		.loc 1 535 16
 1569 002a 3B69     		ldr	r3, [r7, #16]
 1570 002c D3F81832 		ldr	r3, [r3, #536]
 1571              		.loc 1 535 6
 1572 0030 002B     		cmp	r3, #0
 1573 0032 0AD1     		bne	.L75
 536:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 537:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 1574              		.loc 1 537 5
 1575 0034 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 38


 1576 0036 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 1577 003a 2023     		movs	r3, #32
 1578 003c 0522     		movs	r2, #5
 1579 003e F868     		ldr	r0, [r7, #12]
 1580 0040 FFF7FEFF 		bl	SCSI_SenseCode
 538:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1581              		.loc 1 538 12
 1582 0044 4FF0FF33 		mov	r3, #-1
 1583 0048 59E0     		b	.L74
 1584              	.L75:
 539:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 540:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 541:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   for (i = 0U; i < REQUEST_SENSE_DATA_LEN; i++)
 1585              		.loc 1 541 10
 1586 004a 0023     		movs	r3, #0
 1587 004c FB75     		strb	r3, [r7, #23]
 1588              		.loc 1 541 3
 1589 004e 07E0     		b	.L76
 1590              	.L77:
 542:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 543:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[i] = 0U;
 1591              		.loc 1 543 19 discriminator 3
 1592 0050 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1593              		.loc 1 543 23 discriminator 3
 1594 0052 3A69     		ldr	r2, [r7, #16]
 1595 0054 1344     		add	r3, r3, r2
 1596 0056 0022     		movs	r2, #0
 1597 0058 1A74     		strb	r2, [r3, #16]
 541:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1598              		.loc 1 541 45 discriminator 3
 1599 005a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1600 005c 0133     		adds	r3, r3, #1
 1601 005e FB75     		strb	r3, [r7, #23]
 1602              	.L76:
 541:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 1603              		.loc 1 541 3 discriminator 1
 1604 0060 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1605 0062 112B     		cmp	r3, #17
 1606 0064 F4D9     		bls	.L77
 544:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 545:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 546:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[0] = 0x70U;
 1607              		.loc 1 546 21
 1608 0066 3B69     		ldr	r3, [r7, #16]
 1609 0068 7022     		movs	r2, #112
 1610 006a 1A74     		strb	r2, [r3, #16]
 547:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data[7] = REQUEST_SENSE_DATA_LEN - 6U;
 1611              		.loc 1 547 21
 1612 006c 3B69     		ldr	r3, [r7, #16]
 1613 006e 0C22     		movs	r2, #12
 1614 0070 DA75     		strb	r2, [r3, #23]
 548:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 549:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((hmsc->scsi_sense_head != hmsc->scsi_sense_tail))
 1615              		.loc 1 549 12
 1616 0072 3B69     		ldr	r3, [r7, #16]
 1617 0074 93F86022 		ldrb	r2, [r3, #608]	@ zero_extendqisi2
 1618              		.loc 1 549 37
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 39


 1619 0078 3B69     		ldr	r3, [r7, #16]
 1620 007a 93F86132 		ldrb	r3, [r3, #609]	@ zero_extendqisi2
 1621              		.loc 1 549 6
 1622 007e 9A42     		cmp	r2, r3
 1623 0080 2ED0     		beq	.L78
 550:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 551:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[2] = (uint8_t)hmsc->scsi_sense[hmsc->scsi_sense_head].Skey;
 1624              		.loc 1 551 55
 1625 0082 3B69     		ldr	r3, [r7, #16]
 1626 0084 93F86032 		ldrb	r3, [r3, #608]	@ zero_extendqisi2
 1627 0088 1A46     		mov	r2, r3
 1628              		.loc 1 551 73
 1629 008a 3B69     		ldr	r3, [r7, #16]
 1630 008c 4832     		adds	r2, r2, #72
 1631 008e 13F83220 		ldrb	r2, [r3, r2, lsl #3]	@ zero_extendqisi2
 1632              		.loc 1 551 23
 1633 0092 3B69     		ldr	r3, [r7, #16]
 1634 0094 9A74     		strb	r2, [r3, #18]
 552:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[12] = (uint8_t)hmsc->scsi_sense[hmsc->scsi_sense_head].w.b.ASC;
 1635              		.loc 1 552 56
 1636 0096 3B69     		ldr	r3, [r7, #16]
 1637 0098 93F86032 		ldrb	r3, [r3, #608]	@ zero_extendqisi2
 1638              		.loc 1 552 78
 1639 009c 3A69     		ldr	r2, [r7, #16]
 1640 009e 4833     		adds	r3, r3, #72
 1641 00a0 DB00     		lsls	r3, r3, #3
 1642 00a2 1344     		add	r3, r3, r2
 1643 00a4 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 1644              		.loc 1 552 24
 1645 00a6 3B69     		ldr	r3, [r7, #16]
 1646 00a8 1A77     		strb	r2, [r3, #28]
 553:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[13] = (uint8_t)hmsc->scsi_sense[hmsc->scsi_sense_head].w.b.ASCQ;
 1647              		.loc 1 553 56
 1648 00aa 3B69     		ldr	r3, [r7, #16]
 1649 00ac 93F86032 		ldrb	r3, [r3, #608]	@ zero_extendqisi2
 1650              		.loc 1 553 78
 1651 00b0 3A69     		ldr	r2, [r7, #16]
 1652 00b2 4833     		adds	r3, r3, #72
 1653 00b4 DB00     		lsls	r3, r3, #3
 1654 00b6 1344     		add	r3, r3, r2
 1655 00b8 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 1656              		.loc 1 553 24
 1657 00ba 3B69     		ldr	r3, [r7, #16]
 1658 00bc 5A77     		strb	r2, [r3, #29]
 554:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_sense_head++;
 1659              		.loc 1 554 9
 1660 00be 3B69     		ldr	r3, [r7, #16]
 1661 00c0 93F86032 		ldrb	r3, [r3, #608]	@ zero_extendqisi2
 1662              		.loc 1 554 26
 1663 00c4 0133     		adds	r3, r3, #1
 1664 00c6 DAB2     		uxtb	r2, r3
 1665 00c8 3B69     		ldr	r3, [r7, #16]
 1666 00ca 83F86022 		strb	r2, [r3, #608]
 555:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 556:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->scsi_sense_head == SENSE_LIST_DEEPTH)
 1667              		.loc 1 556 13
 1668 00ce 3B69     		ldr	r3, [r7, #16]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 40


 1669 00d0 93F86032 		ldrb	r3, [r3, #608]	@ zero_extendqisi2
 1670              		.loc 1 556 8
 1671 00d4 042B     		cmp	r3, #4
 1672 00d6 03D1     		bne	.L78
 557:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 558:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       hmsc->scsi_sense_head = 0U;
 1673              		.loc 1 558 29
 1674 00d8 3B69     		ldr	r3, [r7, #16]
 1675 00da 0022     		movs	r2, #0
 1676 00dc 83F86022 		strb	r2, [r3, #608]
 1677              	.L78:
 559:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 560:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 561:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 562:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = REQUEST_SENSE_DATA_LEN;
 1678              		.loc 1 562 25
 1679 00e0 3B69     		ldr	r3, [r7, #16]
 1680 00e2 1222     		movs	r2, #18
 1681 00e4 DA60     		str	r2, [r3, #12]
 563:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 564:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (params[4] <= REQUEST_SENSE_DATA_LEN)
 1682              		.loc 1 564 13
 1683 00e6 7B68     		ldr	r3, [r7, #4]
 1684 00e8 0433     		adds	r3, r3, #4
 1685 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1686              		.loc 1 564 6
 1687 00ec 122B     		cmp	r3, #18
 1688 00ee 05D8     		bhi	.L79
 565:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 566:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data_length = params[4];
 1689              		.loc 1 566 35
 1690 00f0 7B68     		ldr	r3, [r7, #4]
 1691 00f2 0433     		adds	r3, r3, #4
 1692 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1693 00f6 1A46     		mov	r2, r3
 1694              		.loc 1 566 27
 1695 00f8 3B69     		ldr	r3, [r7, #16]
 1696 00fa DA60     		str	r2, [r3, #12]
 1697              	.L79:
 567:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 568:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 569:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 1698              		.loc 1 569 10
 1699 00fc 0023     		movs	r3, #0
 1700              	.L74:
 570:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1701              		.loc 1 570 1
 1702 00fe 1846     		mov	r0, r3
 1703 0100 1837     		adds	r7, r7, #24
 1704              	.LCFI43:
 1705              		.cfi_def_cfa_offset 8
 1706 0102 BD46     		mov	sp, r7
 1707              	.LCFI44:
 1708              		.cfi_def_cfa_register 13
 1709              		@ sp needed
 1710 0104 80BD     		pop	{r7, pc}
 1711              		.cfi_endproc
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 41


 1712              	.LFE153:
 1714              		.section	.text.SCSI_SenseCode,"ax",%progbits
 1715              		.align	1
 1716              		.global	SCSI_SenseCode
 1717              		.syntax unified
 1718              		.thumb
 1719              		.thumb_func
 1721              	SCSI_SenseCode:
 1722              	.LFB154:
 571:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 572:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 573:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 574:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_SenseCode
 575:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Load the last error code in the error list
 576:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 577:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  sKey: Sense Key
 578:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  ASC: Additional Sense Code
 579:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval none
 580:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 581:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 582:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** void SCSI_SenseCode(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t sKey, uint8_t ASC)
 583:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 1723              		.loc 1 583 1
 1724              		.cfi_startproc
 1725              		@ args = 0, pretend = 0, frame = 16
 1726              		@ frame_needed = 1, uses_anonymous_args = 0
 1727              		@ link register save eliminated.
 1728 0000 80B4     		push	{r7}
 1729              	.LCFI45:
 1730              		.cfi_def_cfa_offset 4
 1731              		.cfi_offset 7, -4
 1732 0002 85B0     		sub	sp, sp, #20
 1733              	.LCFI46:
 1734              		.cfi_def_cfa_offset 24
 1735 0004 00AF     		add	r7, sp, #0
 1736              	.LCFI47:
 1737              		.cfi_def_cfa_register 7
 1738 0006 7860     		str	r0, [r7, #4]
 1739 0008 0846     		mov	r0, r1
 1740 000a 1146     		mov	r1, r2
 1741 000c 1A46     		mov	r2, r3
 1742 000e 0346     		mov	r3, r0
 1743 0010 FB70     		strb	r3, [r7, #3]
 1744 0012 0B46     		mov	r3, r1
 1745 0014 BB70     		strb	r3, [r7, #2]
 1746 0016 1346     		mov	r3, r2
 1747 0018 7B70     		strb	r3, [r7, #1]
 584:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(lun);
 585:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1748              		.loc 1 585 94
 1749 001a 7B68     		ldr	r3, [r7, #4]
 1750 001c D3F8D422 		ldr	r2, [r3, #724]
 1751              		.loc 1 585 31
 1752 0020 7B68     		ldr	r3, [r7, #4]
 1753 0022 B032     		adds	r2, r2, #176
 1754 0024 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1755 0028 FB60     		str	r3, [r7, #12]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 42


 586:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 587:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1756              		.loc 1 587 6
 1757 002a FB68     		ldr	r3, [r7, #12]
 1758 002c 002B     		cmp	r3, #0
 1759 002e 2CD0     		beq	.L83
 588:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 589:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return;
 590:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 591:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 592:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_sense[hmsc->scsi_sense_tail].Skey = sKey;
 1760              		.loc 1 592 24
 1761 0030 FB68     		ldr	r3, [r7, #12]
 1762 0032 93F86132 		ldrb	r3, [r3, #609]	@ zero_extendqisi2
 1763 0036 1A46     		mov	r2, r3
 1764              		.loc 1 592 48
 1765 0038 FB68     		ldr	r3, [r7, #12]
 1766 003a 4832     		adds	r2, r2, #72
 1767 003c B978     		ldrb	r1, [r7, #2]
 1768 003e 03F83210 		strb	r1, [r3, r2, lsl #3]
 593:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_sense[hmsc->scsi_sense_tail].w.b.ASC = ASC;
 1769              		.loc 1 593 24
 1770 0042 FB68     		ldr	r3, [r7, #12]
 1771 0044 93F86132 		ldrb	r3, [r3, #609]	@ zero_extendqisi2
 1772              		.loc 1 593 51
 1773 0048 FA68     		ldr	r2, [r7, #12]
 1774 004a 4833     		adds	r3, r3, #72
 1775 004c DB00     		lsls	r3, r3, #3
 1776 004e 1344     		add	r3, r3, r2
 1777 0050 7A78     		ldrb	r2, [r7, #1]
 1778 0052 1A71     		strb	r2, [r3, #4]
 594:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_sense[hmsc->scsi_sense_tail].w.b.ASCQ = 0U;
 1779              		.loc 1 594 24
 1780 0054 FB68     		ldr	r3, [r7, #12]
 1781 0056 93F86132 		ldrb	r3, [r3, #609]	@ zero_extendqisi2
 1782              		.loc 1 594 52
 1783 005a FA68     		ldr	r2, [r7, #12]
 1784 005c 4833     		adds	r3, r3, #72
 1785 005e DB00     		lsls	r3, r3, #3
 1786 0060 1344     		add	r3, r3, r2
 1787 0062 0022     		movs	r2, #0
 1788 0064 5A71     		strb	r2, [r3, #5]
 595:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_sense_tail++;
 1789              		.loc 1 595 7
 1790 0066 FB68     		ldr	r3, [r7, #12]
 1791 0068 93F86132 		ldrb	r3, [r3, #609]	@ zero_extendqisi2
 1792              		.loc 1 595 24
 1793 006c 0133     		adds	r3, r3, #1
 1794 006e DAB2     		uxtb	r2, r3
 1795 0070 FB68     		ldr	r3, [r7, #12]
 1796 0072 83F86122 		strb	r2, [r3, #609]
 596:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 597:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->scsi_sense_tail == SENSE_LIST_DEEPTH)
 1797              		.loc 1 597 11
 1798 0076 FB68     		ldr	r3, [r7, #12]
 1799 0078 93F86132 		ldrb	r3, [r3, #609]	@ zero_extendqisi2
 1800              		.loc 1 597 6
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 43


 1801 007c 042B     		cmp	r3, #4
 1802 007e 05D1     		bne	.L80
 598:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 599:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_sense_tail = 0U;
 1803              		.loc 1 599 27
 1804 0080 FB68     		ldr	r3, [r7, #12]
 1805 0082 0022     		movs	r2, #0
 1806 0084 83F86122 		strb	r2, [r3, #609]
 1807 0088 00E0     		b	.L80
 1808              	.L83:
 589:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 1809              		.loc 1 589 5
 1810 008a 00BF     		nop
 1811              	.L80:
 600:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 601:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1812              		.loc 1 601 1
 1813 008c 1437     		adds	r7, r7, #20
 1814              	.LCFI48:
 1815              		.cfi_def_cfa_offset 4
 1816 008e BD46     		mov	sp, r7
 1817              	.LCFI49:
 1818              		.cfi_def_cfa_register 13
 1819              		@ sp needed
 1820 0090 5DF8047B 		ldr	r7, [sp], #4
 1821              	.LCFI50:
 1822              		.cfi_restore 7
 1823              		.cfi_def_cfa_offset 0
 1824 0094 7047     		bx	lr
 1825              		.cfi_endproc
 1826              	.LFE154:
 1828              		.section	.text.SCSI_StartStopUnit,"ax",%progbits
 1829              		.align	1
 1830              		.syntax unified
 1831              		.thumb
 1832              		.thumb_func
 1834              	SCSI_StartStopUnit:
 1835              	.LFB155:
 602:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 603:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 604:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 605:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_StartStopUnit
 606:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Start Stop Unit command
 607:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 608:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 609:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 610:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 611:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_StartStopUnit(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 612:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 1836              		.loc 1 612 1
 1837              		.cfi_startproc
 1838              		@ args = 0, pretend = 0, frame = 24
 1839              		@ frame_needed = 1, uses_anonymous_args = 0
 1840 0000 80B5     		push	{r7, lr}
 1841              	.LCFI51:
 1842              		.cfi_def_cfa_offset 8
 1843              		.cfi_offset 7, -8
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 44


 1844              		.cfi_offset 14, -4
 1845 0002 86B0     		sub	sp, sp, #24
 1846              	.LCFI52:
 1847              		.cfi_def_cfa_offset 32
 1848 0004 00AF     		add	r7, sp, #0
 1849              	.LCFI53:
 1850              		.cfi_def_cfa_register 7
 1851 0006 F860     		str	r0, [r7, #12]
 1852 0008 0B46     		mov	r3, r1
 1853 000a 7A60     		str	r2, [r7, #4]
 1854 000c FB72     		strb	r3, [r7, #11]
 613:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(lun);
 614:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1855              		.loc 1 614 94
 1856 000e FB68     		ldr	r3, [r7, #12]
 1857 0010 D3F8D422 		ldr	r2, [r3, #724]
 1858              		.loc 1 614 31
 1859 0014 FB68     		ldr	r3, [r7, #12]
 1860 0016 B032     		adds	r2, r2, #176
 1861 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1862 001c 7B61     		str	r3, [r7, #20]
 615:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 616:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1863              		.loc 1 616 6
 1864 001e 7B69     		ldr	r3, [r7, #20]
 1865 0020 002B     		cmp	r3, #0
 1866 0022 02D1     		bne	.L85
 617:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 618:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1867              		.loc 1 618 12
 1868 0024 4FF0FF33 		mov	r3, #-1
 1869 0028 3BE0     		b	.L86
 1870              	.L85:
 619:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 620:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 621:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((hmsc->scsi_medium_state == SCSI_MEDIUM_LOCKED) && ((params[4] & 0x3U) == 2U))
 1871              		.loc 1 621 12
 1872 002a 7B69     		ldr	r3, [r7, #20]
 1873 002c 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 1874              		.loc 1 621 6
 1875 0030 012B     		cmp	r3, #1
 1876 0032 0FD1     		bne	.L87
 1877              		.loc 1 621 66 discriminator 1
 1878 0034 7B68     		ldr	r3, [r7, #4]
 1879 0036 0433     		adds	r3, r3, #4
 1880 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1881              		.loc 1 621 70 discriminator 1
 1882 003a 03F00303 		and	r3, r3, #3
 1883              		.loc 1 621 55 discriminator 1
 1884 003e 022B     		cmp	r3, #2
 1885 0040 08D1     		bne	.L87
 622:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 623:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, ILLEGAL_REQUEST, INVALID_FIELED_IN_COMMAND);
 1886              		.loc 1 623 5
 1887 0042 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 1888 0044 2423     		movs	r3, #36
 1889 0046 0522     		movs	r2, #5
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 45


 1890 0048 F868     		ldr	r0, [r7, #12]
 1891 004a FFF7FEFF 		bl	SCSI_SenseCode
 624:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 625:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1892              		.loc 1 625 12
 1893 004e 4FF0FF33 		mov	r3, #-1
 1894 0052 26E0     		b	.L86
 1895              	.L87:
 626:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 627:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 628:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((params[4] & 0x3U) == 0x1U) /* START=1 */
 1896              		.loc 1 628 14
 1897 0054 7B68     		ldr	r3, [r7, #4]
 1898 0056 0433     		adds	r3, r3, #4
 1899 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1900              		.loc 1 628 18
 1901 005a 03F00303 		and	r3, r3, #3
 1902              		.loc 1 628 6
 1903 005e 012B     		cmp	r3, #1
 1904 0060 04D1     		bne	.L88
 629:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 630:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_medium_state = SCSI_MEDIUM_UNLOCKED;
 1905              		.loc 1 630 29
 1906 0062 7B69     		ldr	r3, [r7, #20]
 1907 0064 0022     		movs	r2, #0
 1908 0066 83F86222 		strb	r2, [r3, #610]
 1909 006a 16E0     		b	.L89
 1910              	.L88:
 631:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 632:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else if ((params[4] & 0x3U) == 0x2U) /* START=0 and LOEJ Load Eject=1 */
 1911              		.loc 1 632 19
 1912 006c 7B68     		ldr	r3, [r7, #4]
 1913 006e 0433     		adds	r3, r3, #4
 1914 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1915              		.loc 1 632 23
 1916 0072 03F00303 		and	r3, r3, #3
 1917              		.loc 1 632 11
 1918 0076 022B     		cmp	r3, #2
 1919 0078 04D1     		bne	.L90
 633:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 634:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_medium_state = SCSI_MEDIUM_EJECTED;
 1920              		.loc 1 634 29
 1921 007a 7B69     		ldr	r3, [r7, #20]
 1922 007c 0222     		movs	r2, #2
 1923 007e 83F86222 		strb	r2, [r3, #610]
 1924 0082 0AE0     		b	.L89
 1925              	.L90:
 635:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 636:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else if ((params[4] & 0x3U) == 0x3U) /* START=1 and LOEJ Load Eject=1 */
 1926              		.loc 1 636 19
 1927 0084 7B68     		ldr	r3, [r7, #4]
 1928 0086 0433     		adds	r3, r3, #4
 1929 0088 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1930              		.loc 1 636 23
 1931 008a 03F00303 		and	r3, r3, #3
 1932              		.loc 1 636 11
 1933 008e 032B     		cmp	r3, #3
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 46


 1934 0090 03D1     		bne	.L89
 637:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 638:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_medium_state = SCSI_MEDIUM_UNLOCKED;
 1935              		.loc 1 638 29
 1936 0092 7B69     		ldr	r3, [r7, #20]
 1937 0094 0022     		movs	r2, #0
 1938 0096 83F86222 		strb	r2, [r3, #610]
 1939              	.L89:
 639:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 640:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else
 641:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 642:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* .. */
 643:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 644:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = 0U;
 1940              		.loc 1 644 25
 1941 009a 7B69     		ldr	r3, [r7, #20]
 1942 009c 0022     		movs	r2, #0
 1943 009e DA60     		str	r2, [r3, #12]
 645:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 646:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 1944              		.loc 1 646 10
 1945 00a0 0023     		movs	r3, #0
 1946              	.L86:
 647:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 1947              		.loc 1 647 1
 1948 00a2 1846     		mov	r0, r3
 1949 00a4 1837     		adds	r7, r7, #24
 1950              	.LCFI54:
 1951              		.cfi_def_cfa_offset 8
 1952 00a6 BD46     		mov	sp, r7
 1953              	.LCFI55:
 1954              		.cfi_def_cfa_register 13
 1955              		@ sp needed
 1956 00a8 80BD     		pop	{r7, pc}
 1957              		.cfi_endproc
 1958              	.LFE155:
 1960              		.section	.text.SCSI_AllowPreventRemovable,"ax",%progbits
 1961              		.align	1
 1962              		.syntax unified
 1963              		.thumb
 1964              		.thumb_func
 1966              	SCSI_AllowPreventRemovable:
 1967              	.LFB156:
 648:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 649:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 650:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 651:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_AllowPreventRemovable
 652:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Allow Prevent Removable medium command
 653:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 654:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 655:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 656:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 657:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_AllowPreventRemovable(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 658:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 1968              		.loc 1 658 1
 1969              		.cfi_startproc
 1970              		@ args = 0, pretend = 0, frame = 24
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 47


 1971              		@ frame_needed = 1, uses_anonymous_args = 0
 1972              		@ link register save eliminated.
 1973 0000 80B4     		push	{r7}
 1974              	.LCFI56:
 1975              		.cfi_def_cfa_offset 4
 1976              		.cfi_offset 7, -4
 1977 0002 87B0     		sub	sp, sp, #28
 1978              	.LCFI57:
 1979              		.cfi_def_cfa_offset 32
 1980 0004 00AF     		add	r7, sp, #0
 1981              	.LCFI58:
 1982              		.cfi_def_cfa_register 7
 1983 0006 F860     		str	r0, [r7, #12]
 1984 0008 0B46     		mov	r3, r1
 1985 000a 7A60     		str	r2, [r7, #4]
 1986 000c FB72     		strb	r3, [r7, #11]
 659:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   UNUSED(lun);
 660:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 1987              		.loc 1 660 94
 1988 000e FB68     		ldr	r3, [r7, #12]
 1989 0010 D3F8D422 		ldr	r2, [r3, #724]
 1990              		.loc 1 660 31
 1991 0014 FB68     		ldr	r3, [r7, #12]
 1992 0016 B032     		adds	r2, r2, #176
 1993 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1994 001c 7B61     		str	r3, [r7, #20]
 661:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 662:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 1995              		.loc 1 662 6
 1996 001e 7B69     		ldr	r3, [r7, #20]
 1997 0020 002B     		cmp	r3, #0
 1998 0022 02D1     		bne	.L92
 663:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 664:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 1999              		.loc 1 664 12
 2000 0024 4FF0FF33 		mov	r3, #-1
 2001 0028 11E0     		b	.L93
 2002              	.L92:
 665:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 666:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 667:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (params[4] == 0U)
 2003              		.loc 1 667 13
 2004 002a 7B68     		ldr	r3, [r7, #4]
 2005 002c 0433     		adds	r3, r3, #4
 2006 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2007              		.loc 1 667 6
 2008 0030 002B     		cmp	r3, #0
 2009 0032 04D1     		bne	.L94
 668:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 669:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_medium_state = SCSI_MEDIUM_UNLOCKED;
 2010              		.loc 1 669 29
 2011 0034 7B69     		ldr	r3, [r7, #20]
 2012 0036 0022     		movs	r2, #0
 2013 0038 83F86222 		strb	r2, [r3, #610]
 2014 003c 03E0     		b	.L95
 2015              	.L94:
 670:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 48


 671:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else
 672:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 673:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_medium_state = SCSI_MEDIUM_LOCKED;
 2016              		.loc 1 673 29
 2017 003e 7B69     		ldr	r3, [r7, #20]
 2018 0040 0122     		movs	r2, #1
 2019 0042 83F86222 		strb	r2, [r3, #610]
 2020              	.L95:
 674:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 675:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 676:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = 0U;
 2021              		.loc 1 676 25
 2022 0046 7B69     		ldr	r3, [r7, #20]
 2023 0048 0022     		movs	r2, #0
 2024 004a DA60     		str	r2, [r3, #12]
 677:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 678:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 2025              		.loc 1 678 10
 2026 004c 0023     		movs	r3, #0
 2027              	.L93:
 679:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 2028              		.loc 1 679 1
 2029 004e 1846     		mov	r0, r3
 2030 0050 1C37     		adds	r7, r7, #28
 2031              	.LCFI59:
 2032              		.cfi_def_cfa_offset 4
 2033 0052 BD46     		mov	sp, r7
 2034              	.LCFI60:
 2035              		.cfi_def_cfa_register 13
 2036              		@ sp needed
 2037 0054 5DF8047B 		ldr	r7, [sp], #4
 2038              	.LCFI61:
 2039              		.cfi_restore 7
 2040              		.cfi_def_cfa_offset 0
 2041 0058 7047     		bx	lr
 2042              		.cfi_endproc
 2043              	.LFE156:
 2045              		.section	.text.SCSI_Read10,"ax",%progbits
 2046              		.align	1
 2047              		.syntax unified
 2048              		.thumb
 2049              		.thumb_func
 2051              	SCSI_Read10:
 2052              	.LFB157:
 680:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 681:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 682:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 683:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_Read10
 684:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Read10 command
 685:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 686:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 687:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 688:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 689:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Read10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 690:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 2053              		.loc 1 690 1
 2054              		.cfi_startproc
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 49


 2055              		@ args = 0, pretend = 0, frame = 24
 2056              		@ frame_needed = 1, uses_anonymous_args = 0
 2057 0000 80B5     		push	{r7, lr}
 2058              	.LCFI62:
 2059              		.cfi_def_cfa_offset 8
 2060              		.cfi_offset 7, -8
 2061              		.cfi_offset 14, -4
 2062 0002 86B0     		sub	sp, sp, #24
 2063              	.LCFI63:
 2064              		.cfi_def_cfa_offset 32
 2065 0004 00AF     		add	r7, sp, #0
 2066              	.LCFI64:
 2067              		.cfi_def_cfa_register 7
 2068 0006 F860     		str	r0, [r7, #12]
 2069 0008 0B46     		mov	r3, r1
 2070 000a 7A60     		str	r2, [r7, #4]
 2071 000c FB72     		strb	r3, [r7, #11]
 691:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 2072              		.loc 1 691 94
 2073 000e FB68     		ldr	r3, [r7, #12]
 2074 0010 D3F8D422 		ldr	r2, [r3, #724]
 2075              		.loc 1 691 31
 2076 0014 FB68     		ldr	r3, [r7, #12]
 2077 0016 B032     		adds	r2, r2, #176
 2078 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 2079 001c 7B61     		str	r3, [r7, #20]
 692:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 693:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 2080              		.loc 1 693 6
 2081 001e 7B69     		ldr	r3, [r7, #20]
 2082 0020 002B     		cmp	r3, #0
 2083 0022 02D1     		bne	.L97
 694:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 695:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 2084              		.loc 1 695 12
 2085 0024 4FF0FF33 		mov	r3, #-1
 2086 0028 90E0     		b	.L98
 2087              	.L97:
 696:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 697:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 698:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->bot_state == USBD_BOT_IDLE) /* Idle */
 2088              		.loc 1 698 11
 2089 002a 7B69     		ldr	r3, [r7, #20]
 2090 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2091              		.loc 1 698 6
 2092 002e 002B     		cmp	r3, #0
 2093 0030 40F08280 		bne	.L99
 699:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 700:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* case 10 : Ho <> Di */
 701:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if ((hmsc->cbw.bmFlags & 0x80U) != 0x80U)
 2094              		.loc 1 701 19
 2095 0034 7B69     		ldr	r3, [r7, #20]
 2096 0036 93F81C32 		ldrb	r3, [r3, #540]	@ zero_extendqisi2
 2097              		.loc 1 701 37
 2098 003a 5BB2     		sxtb	r3, r3
 2099              		.loc 1 701 8
 2100 003c 002B     		cmp	r3, #0
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 50


 2101 003e 0ADB     		blt	.L100
 702:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 703:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2102              		.loc 1 703 7
 2103 0040 7B69     		ldr	r3, [r7, #20]
 2104 0042 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2105 0046 2023     		movs	r3, #32
 2106 0048 0522     		movs	r2, #5
 2107 004a F868     		ldr	r0, [r7, #12]
 2108 004c FFF7FEFF 		bl	SCSI_SenseCode
 704:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2109              		.loc 1 704 14
 2110 0050 4FF0FF33 		mov	r3, #-1
 2111 0054 7AE0     		b	.L98
 2112              	.L100:
 705:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 706:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 707:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->scsi_medium_state == SCSI_MEDIUM_EJECTED)
 2113              		.loc 1 707 13
 2114 0056 7B69     		ldr	r3, [r7, #20]
 2115 0058 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 2116              		.loc 1 707 8
 2117 005c 022B     		cmp	r3, #2
 2118 005e 08D1     		bne	.L101
 708:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 709:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 2119              		.loc 1 709 7
 2120 0060 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2121 0062 3A23     		movs	r3, #58
 2122 0064 0222     		movs	r2, #2
 2123 0066 F868     		ldr	r0, [r7, #12]
 2124 0068 FFF7FEFF 		bl	SCSI_SenseCode
 710:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 711:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2125              		.loc 1 711 14
 2126 006c 4FF0FF33 		mov	r3, #-1
 2127 0070 6CE0     		b	.L98
 2128              	.L101:
 712:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 713:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 714:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsReady(lun) != 0)
 2129              		.loc 1 714 53
 2130 0072 FB68     		ldr	r3, [r7, #12]
 2131 0074 D3F8D432 		ldr	r3, [r3, #724]
 2132              		.loc 1 714 48
 2133 0078 FA68     		ldr	r2, [r7, #12]
 2134 007a B033     		adds	r3, r3, #176
 2135 007c 9B00     		lsls	r3, r3, #2
 2136 007e 1344     		add	r3, r3, r2
 2137 0080 5B68     		ldr	r3, [r3, #4]
 2138              		.loc 1 714 64
 2139 0082 9B68     		ldr	r3, [r3, #8]
 2140              		.loc 1 714 10
 2141 0084 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2142 0086 1046     		mov	r0, r2
 2143 0088 9847     		blx	r3
 2144              	.LVL4:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 51


 2145 008a 0346     		mov	r3, r0
 2146              		.loc 1 714 8
 2147 008c 002B     		cmp	r3, #0
 2148 008e 08D0     		beq	.L102
 715:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 716:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 2149              		.loc 1 716 7
 2150 0090 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2151 0092 3A23     		movs	r3, #58
 2152 0094 0222     		movs	r2, #2
 2153 0096 F868     		ldr	r0, [r7, #12]
 2154 0098 FFF7FEFF 		bl	SCSI_SenseCode
 717:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2155              		.loc 1 717 14
 2156 009c 4FF0FF33 		mov	r3, #-1
 2157 00a0 54E0     		b	.L98
 2158              	.L102:
 718:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 719:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 720:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_addr = ((uint32_t)params[2] << 24) |
 2159              		.loc 1 720 44
 2160 00a2 7B68     		ldr	r3, [r7, #4]
 2161 00a4 0233     		adds	r3, r3, #2
 2162 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2163              		.loc 1 720 48
 2164 00a8 1A06     		lsls	r2, r3, #24
 721:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2165              		.loc 1 721 44
 2166 00aa 7B68     		ldr	r3, [r7, #4]
 2167 00ac 0333     		adds	r3, r3, #3
 2168 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2169              		.loc 1 721 48
 2170 00b0 1B04     		lsls	r3, r3, #16
 720:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2171              		.loc 1 720 55
 2172 00b2 1A43     		orrs	r2, r2, r3
 722:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] <<  8) |
 2173              		.loc 1 722 44
 2174 00b4 7B68     		ldr	r3, [r7, #4]
 2175 00b6 0433     		adds	r3, r3, #4
 2176 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2177              		.loc 1 722 48
 2178 00ba 1B02     		lsls	r3, r3, #8
 721:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2179              		.loc 1 721 55
 2180 00bc 1343     		orrs	r3, r3, r2
 723:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           (uint32_t)params[5];
 2181              		.loc 1 723 43
 2182 00be 7A68     		ldr	r2, [r7, #4]
 2183 00c0 0532     		adds	r2, r2, #5
 2184 00c2 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 722:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] <<  8) |
 2185              		.loc 1 722 55
 2186 00c4 1A43     		orrs	r2, r2, r3
 720:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2187              		.loc 1 720 25
 2188 00c6 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 52


 2189 00c8 C3F86C22 		str	r2, [r3, #620]
 724:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 725:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_len = ((uint32_t)params[7] <<  8) | (uint32_t)params[8];
 2190              		.loc 1 725 43
 2191 00cc 7B68     		ldr	r3, [r7, #4]
 2192 00ce 0733     		adds	r3, r3, #7
 2193 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2194              		.loc 1 725 47
 2195 00d2 1B02     		lsls	r3, r3, #8
 2196              		.loc 1 725 72
 2197 00d4 7A68     		ldr	r2, [r7, #4]
 2198 00d6 0832     		adds	r2, r2, #8
 2199 00d8 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2200              		.loc 1 725 54
 2201 00da 1A43     		orrs	r2, r2, r3
 2202              		.loc 1 725 24
 2203 00dc 7B69     		ldr	r3, [r7, #20]
 2204 00de C3F87022 		str	r2, [r3, #624]
 726:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 727:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (SCSI_CheckAddressRange(pdev, lun, hmsc->scsi_blk_addr,
 2205              		.loc 1 727 9
 2206 00e2 7B69     		ldr	r3, [r7, #20]
 2207 00e4 D3F86C22 		ldr	r2, [r3, #620]
 2208 00e8 7B69     		ldr	r3, [r7, #20]
 2209 00ea D3F87032 		ldr	r3, [r3, #624]
 2210 00ee F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2211 00f0 F868     		ldr	r0, [r7, #12]
 2212 00f2 FFF7FEFF 		bl	SCSI_CheckAddressRange
 2213 00f6 0346     		mov	r3, r0
 2214              		.loc 1 727 8
 2215 00f8 002B     		cmp	r3, #0
 2216 00fa 02DA     		bge	.L103
 728:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                hmsc->scsi_blk_len) < 0)
 729:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 730:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1; /* error */
 2217              		.loc 1 730 14
 2218 00fc 4FF0FF33 		mov	r3, #-1
 2219 0100 24E0     		b	.L98
 2220              	.L103:
 731:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 732:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 733:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* cases 4,5 : Hi <> Dn */
 734:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->cbw.dDataLength != (hmsc->scsi_blk_len * hmsc->scsi_blk_size))
 2221              		.loc 1 734 18
 2222 0102 7B69     		ldr	r3, [r7, #20]
 2223 0104 D3F81822 		ldr	r2, [r3, #536]
 2224              		.loc 1 734 39
 2225 0108 7B69     		ldr	r3, [r7, #20]
 2226 010a D3F87032 		ldr	r3, [r3, #624]
 2227              		.loc 1 734 60
 2228 010e 7969     		ldr	r1, [r7, #20]
 2229 0110 B1F86412 		ldrh	r1, [r1, #612]
 2230              		.loc 1 734 54
 2231 0114 01FB03F3 		mul	r3, r1, r3
 2232              		.loc 1 734 8
 2233 0118 9A42     		cmp	r2, r3
 2234 011a 0AD0     		beq	.L104
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 53


 735:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 736:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2235              		.loc 1 736 7
 2236 011c 7B69     		ldr	r3, [r7, #20]
 2237 011e 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2238 0122 2023     		movs	r3, #32
 2239 0124 0522     		movs	r2, #5
 2240 0126 F868     		ldr	r0, [r7, #12]
 2241 0128 FFF7FEFF 		bl	SCSI_SenseCode
 737:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2242              		.loc 1 737 14
 2243 012c 4FF0FF33 		mov	r3, #-1
 2244 0130 0CE0     		b	.L98
 2245              	.L104:
 738:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 739:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 740:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_DATA_IN;
 2246              		.loc 1 740 21
 2247 0132 7B69     		ldr	r3, [r7, #20]
 2248 0134 0222     		movs	r2, #2
 2249 0136 1A72     		strb	r2, [r3, #8]
 2250              	.L99:
 741:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 742:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = MSC_MEDIA_PACKET;
 2251              		.loc 1 742 25
 2252 0138 7B69     		ldr	r3, [r7, #20]
 2253 013a 4FF40072 		mov	r2, #512
 2254 013e DA60     		str	r2, [r3, #12]
 743:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 744:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return SCSI_ProcessRead(pdev, lun);
 2255              		.loc 1 744 10
 2256 0140 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2257 0142 1946     		mov	r1, r3
 2258 0144 F868     		ldr	r0, [r7, #12]
 2259 0146 FFF7FEFF 		bl	SCSI_ProcessRead
 2260 014a 0346     		mov	r3, r0
 2261              	.L98:
 745:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 2262              		.loc 1 745 1
 2263 014c 1846     		mov	r0, r3
 2264 014e 1837     		adds	r7, r7, #24
 2265              	.LCFI65:
 2266              		.cfi_def_cfa_offset 8
 2267 0150 BD46     		mov	sp, r7
 2268              	.LCFI66:
 2269              		.cfi_def_cfa_register 13
 2270              		@ sp needed
 2271 0152 80BD     		pop	{r7, pc}
 2272              		.cfi_endproc
 2273              	.LFE157:
 2275              		.section	.text.SCSI_Read12,"ax",%progbits
 2276              		.align	1
 2277              		.syntax unified
 2278              		.thumb
 2279              		.thumb_func
 2281              	SCSI_Read12:
 2282              	.LFB158:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 54


 746:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 747:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 748:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 749:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_Read12
 750:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Read12 command
 751:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 752:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 753:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 754:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 755:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Read12(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 756:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 2283              		.loc 1 756 1
 2284              		.cfi_startproc
 2285              		@ args = 0, pretend = 0, frame = 24
 2286              		@ frame_needed = 1, uses_anonymous_args = 0
 2287 0000 80B5     		push	{r7, lr}
 2288              	.LCFI67:
 2289              		.cfi_def_cfa_offset 8
 2290              		.cfi_offset 7, -8
 2291              		.cfi_offset 14, -4
 2292 0002 86B0     		sub	sp, sp, #24
 2293              	.LCFI68:
 2294              		.cfi_def_cfa_offset 32
 2295 0004 00AF     		add	r7, sp, #0
 2296              	.LCFI69:
 2297              		.cfi_def_cfa_register 7
 2298 0006 F860     		str	r0, [r7, #12]
 2299 0008 0B46     		mov	r3, r1
 2300 000a 7A60     		str	r2, [r7, #4]
 2301 000c FB72     		strb	r3, [r7, #11]
 757:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 2302              		.loc 1 757 94
 2303 000e FB68     		ldr	r3, [r7, #12]
 2304 0010 D3F8D422 		ldr	r2, [r3, #724]
 2305              		.loc 1 757 31
 2306 0014 FB68     		ldr	r3, [r7, #12]
 2307 0016 B032     		adds	r2, r2, #176
 2308 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 2309 001c 7B61     		str	r3, [r7, #20]
 758:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 759:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 2310              		.loc 1 759 6
 2311 001e 7B69     		ldr	r3, [r7, #20]
 2312 0020 002B     		cmp	r3, #0
 2313 0022 02D1     		bne	.L106
 760:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 761:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 2314              		.loc 1 761 12
 2315 0024 4FF0FF33 		mov	r3, #-1
 2316 0028 9AE0     		b	.L107
 2317              	.L106:
 762:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 763:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 764:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->bot_state == USBD_BOT_IDLE) /* Idle */
 2318              		.loc 1 764 11
 2319 002a 7B69     		ldr	r3, [r7, #20]
 2320 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 55


 2321              		.loc 1 764 6
 2322 002e 002B     		cmp	r3, #0
 2323 0030 40F08C80 		bne	.L108
 765:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 766:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* case 10 : Ho <> Di */
 767:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if ((hmsc->cbw.bmFlags & 0x80U) != 0x80U)
 2324              		.loc 1 767 19
 2325 0034 7B69     		ldr	r3, [r7, #20]
 2326 0036 93F81C32 		ldrb	r3, [r3, #540]	@ zero_extendqisi2
 2327              		.loc 1 767 37
 2328 003a 5BB2     		sxtb	r3, r3
 2329              		.loc 1 767 8
 2330 003c 002B     		cmp	r3, #0
 2331 003e 0ADB     		blt	.L109
 768:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 769:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2332              		.loc 1 769 7
 2333 0040 7B69     		ldr	r3, [r7, #20]
 2334 0042 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2335 0046 2023     		movs	r3, #32
 2336 0048 0522     		movs	r2, #5
 2337 004a F868     		ldr	r0, [r7, #12]
 2338 004c FFF7FEFF 		bl	SCSI_SenseCode
 770:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2339              		.loc 1 770 14
 2340 0050 4FF0FF33 		mov	r3, #-1
 2341 0054 84E0     		b	.L107
 2342              	.L109:
 771:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 772:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 773:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->scsi_medium_state == SCSI_MEDIUM_EJECTED)
 2343              		.loc 1 773 13
 2344 0056 7B69     		ldr	r3, [r7, #20]
 2345 0058 93F86232 		ldrb	r3, [r3, #610]	@ zero_extendqisi2
 2346              		.loc 1 773 8
 2347 005c 022B     		cmp	r3, #2
 2348 005e 08D1     		bne	.L110
 774:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 775:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 2349              		.loc 1 775 7
 2350 0060 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2351 0062 3A23     		movs	r3, #58
 2352 0064 0222     		movs	r2, #2
 2353 0066 F868     		ldr	r0, [r7, #12]
 2354 0068 FFF7FEFF 		bl	SCSI_SenseCode
 776:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2355              		.loc 1 776 14
 2356 006c 4FF0FF33 		mov	r3, #-1
 2357 0070 76E0     		b	.L107
 2358              	.L110:
 777:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 778:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 779:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsReady(lun) != 0)
 2359              		.loc 1 779 53
 2360 0072 FB68     		ldr	r3, [r7, #12]
 2361 0074 D3F8D432 		ldr	r3, [r3, #724]
 2362              		.loc 1 779 48
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 56


 2363 0078 FA68     		ldr	r2, [r7, #12]
 2364 007a B033     		adds	r3, r3, #176
 2365 007c 9B00     		lsls	r3, r3, #2
 2366 007e 1344     		add	r3, r3, r2
 2367 0080 5B68     		ldr	r3, [r3, #4]
 2368              		.loc 1 779 64
 2369 0082 9B68     		ldr	r3, [r3, #8]
 2370              		.loc 1 779 10
 2371 0084 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2372 0086 1046     		mov	r0, r2
 2373 0088 9847     		blx	r3
 2374              	.LVL5:
 2375 008a 0346     		mov	r3, r0
 2376              		.loc 1 779 8
 2377 008c 002B     		cmp	r3, #0
 2378 008e 08D0     		beq	.L111
 780:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 781:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 2379              		.loc 1 781 7
 2380 0090 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2381 0092 3A23     		movs	r3, #58
 2382 0094 0222     		movs	r2, #2
 2383 0096 F868     		ldr	r0, [r7, #12]
 2384 0098 FFF7FEFF 		bl	SCSI_SenseCode
 782:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2385              		.loc 1 782 14
 2386 009c 4FF0FF33 		mov	r3, #-1
 2387 00a0 5EE0     		b	.L107
 2388              	.L111:
 783:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 784:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 785:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_addr = ((uint32_t)params[2] << 24) |
 2389              		.loc 1 785 44
 2390 00a2 7B68     		ldr	r3, [r7, #4]
 2391 00a4 0233     		adds	r3, r3, #2
 2392 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2393              		.loc 1 785 48
 2394 00a8 1A06     		lsls	r2, r3, #24
 786:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2395              		.loc 1 786 44
 2396 00aa 7B68     		ldr	r3, [r7, #4]
 2397 00ac 0333     		adds	r3, r3, #3
 2398 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2399              		.loc 1 786 48
 2400 00b0 1B04     		lsls	r3, r3, #16
 785:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2401              		.loc 1 785 55
 2402 00b2 1A43     		orrs	r2, r2, r3
 787:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] <<  8) |
 2403              		.loc 1 787 44
 2404 00b4 7B68     		ldr	r3, [r7, #4]
 2405 00b6 0433     		adds	r3, r3, #4
 2406 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2407              		.loc 1 787 48
 2408 00ba 1B02     		lsls	r3, r3, #8
 786:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2409              		.loc 1 786 55
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 57


 2410 00bc 1343     		orrs	r3, r3, r2
 788:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           (uint32_t)params[5];
 2411              		.loc 1 788 43
 2412 00be 7A68     		ldr	r2, [r7, #4]
 2413 00c0 0532     		adds	r2, r2, #5
 2414 00c2 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 787:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] <<  8) |
 2415              		.loc 1 787 55
 2416 00c4 1A43     		orrs	r2, r2, r3
 785:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2417              		.loc 1 785 25
 2418 00c6 7B69     		ldr	r3, [r7, #20]
 2419 00c8 C3F86C22 		str	r2, [r3, #620]
 789:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 790:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_len = ((uint32_t)params[6] << 24) |
 2420              		.loc 1 790 43
 2421 00cc 7B68     		ldr	r3, [r7, #4]
 2422 00ce 0633     		adds	r3, r3, #6
 2423 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2424              		.loc 1 790 47
 2425 00d2 1A06     		lsls	r2, r3, #24
 791:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 2426              		.loc 1 791 43
 2427 00d4 7B68     		ldr	r3, [r7, #4]
 2428 00d6 0733     		adds	r3, r3, #7
 2429 00d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2430              		.loc 1 791 47
 2431 00da 1B04     		lsls	r3, r3, #16
 790:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 2432              		.loc 1 790 54
 2433 00dc 1A43     		orrs	r2, r2, r3
 792:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[8] << 8) |
 2434              		.loc 1 792 43
 2435 00de 7B68     		ldr	r3, [r7, #4]
 2436 00e0 0833     		adds	r3, r3, #8
 2437 00e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2438              		.loc 1 792 47
 2439 00e4 1B02     		lsls	r3, r3, #8
 791:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 2440              		.loc 1 791 54
 2441 00e6 1343     		orrs	r3, r3, r2
 793:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          (uint32_t)params[9];
 2442              		.loc 1 793 42
 2443 00e8 7A68     		ldr	r2, [r7, #4]
 2444 00ea 0932     		adds	r2, r2, #9
 2445 00ec 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 792:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[8] << 8) |
 2446              		.loc 1 792 53
 2447 00ee 1A43     		orrs	r2, r2, r3
 790:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 2448              		.loc 1 790 24
 2449 00f0 7B69     		ldr	r3, [r7, #20]
 2450 00f2 C3F87022 		str	r2, [r3, #624]
 794:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 795:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (SCSI_CheckAddressRange(pdev, lun, hmsc->scsi_blk_addr,
 2451              		.loc 1 795 9
 2452 00f6 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 58


 2453 00f8 D3F86C22 		ldr	r2, [r3, #620]
 2454 00fc 7B69     		ldr	r3, [r7, #20]
 2455 00fe D3F87032 		ldr	r3, [r3, #624]
 2456 0102 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2457 0104 F868     		ldr	r0, [r7, #12]
 2458 0106 FFF7FEFF 		bl	SCSI_CheckAddressRange
 2459 010a 0346     		mov	r3, r0
 2460              		.loc 1 795 8
 2461 010c 002B     		cmp	r3, #0
 2462 010e 02DA     		bge	.L112
 796:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                hmsc->scsi_blk_len) < 0)
 797:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 798:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1; /* error */
 2463              		.loc 1 798 14
 2464 0110 4FF0FF33 		mov	r3, #-1
 2465 0114 24E0     		b	.L107
 2466              	.L112:
 799:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 800:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 801:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* cases 4,5 : Hi <> Dn */
 802:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->cbw.dDataLength != (hmsc->scsi_blk_len * hmsc->scsi_blk_size))
 2467              		.loc 1 802 18
 2468 0116 7B69     		ldr	r3, [r7, #20]
 2469 0118 D3F81822 		ldr	r2, [r3, #536]
 2470              		.loc 1 802 39
 2471 011c 7B69     		ldr	r3, [r7, #20]
 2472 011e D3F87032 		ldr	r3, [r3, #624]
 2473              		.loc 1 802 60
 2474 0122 7969     		ldr	r1, [r7, #20]
 2475 0124 B1F86412 		ldrh	r1, [r1, #612]
 2476              		.loc 1 802 54
 2477 0128 01FB03F3 		mul	r3, r1, r3
 2478              		.loc 1 802 8
 2479 012c 9A42     		cmp	r2, r3
 2480 012e 0AD0     		beq	.L113
 803:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 804:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2481              		.loc 1 804 7
 2482 0130 7B69     		ldr	r3, [r7, #20]
 2483 0132 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2484 0136 2023     		movs	r3, #32
 2485 0138 0522     		movs	r2, #5
 2486 013a F868     		ldr	r0, [r7, #12]
 2487 013c FFF7FEFF 		bl	SCSI_SenseCode
 805:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2488              		.loc 1 805 14
 2489 0140 4FF0FF33 		mov	r3, #-1
 2490 0144 0CE0     		b	.L107
 2491              	.L113:
 806:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 807:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 808:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_DATA_IN;
 2492              		.loc 1 808 21
 2493 0146 7B69     		ldr	r3, [r7, #20]
 2494 0148 0222     		movs	r2, #2
 2495 014a 1A72     		strb	r2, [r3, #8]
 2496              	.L108:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 59


 809:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 810:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = MSC_MEDIA_PACKET;
 2497              		.loc 1 810 25
 2498 014c 7B69     		ldr	r3, [r7, #20]
 2499 014e 4FF40072 		mov	r2, #512
 2500 0152 DA60     		str	r2, [r3, #12]
 811:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 812:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return SCSI_ProcessRead(pdev, lun);
 2501              		.loc 1 812 10
 2502 0154 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2503 0156 1946     		mov	r1, r3
 2504 0158 F868     		ldr	r0, [r7, #12]
 2505 015a FFF7FEFF 		bl	SCSI_ProcessRead
 2506 015e 0346     		mov	r3, r0
 2507              	.L107:
 813:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 2508              		.loc 1 813 1
 2509 0160 1846     		mov	r0, r3
 2510 0162 1837     		adds	r7, r7, #24
 2511              	.LCFI70:
 2512              		.cfi_def_cfa_offset 8
 2513 0164 BD46     		mov	sp, r7
 2514              	.LCFI71:
 2515              		.cfi_def_cfa_register 13
 2516              		@ sp needed
 2517 0166 80BD     		pop	{r7, pc}
 2518              		.cfi_endproc
 2519              	.LFE158:
 2521              		.section	.text.SCSI_Write10,"ax",%progbits
 2522              		.align	1
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2527              	SCSI_Write10:
 2528              	.LFB159:
 814:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 815:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 816:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 817:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_Write10
 818:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Write10 command
 819:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 820:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 821:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 822:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 823:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Write10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 824:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 2529              		.loc 1 824 1
 2530              		.cfi_startproc
 2531              		@ args = 0, pretend = 0, frame = 24
 2532              		@ frame_needed = 1, uses_anonymous_args = 0
 2533 0000 80B5     		push	{r7, lr}
 2534              	.LCFI72:
 2535              		.cfi_def_cfa_offset 8
 2536              		.cfi_offset 7, -8
 2537              		.cfi_offset 14, -4
 2538 0002 86B0     		sub	sp, sp, #24
 2539              	.LCFI73:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 60


 2540              		.cfi_def_cfa_offset 32
 2541 0004 00AF     		add	r7, sp, #0
 2542              	.LCFI74:
 2543              		.cfi_def_cfa_register 7
 2544 0006 F860     		str	r0, [r7, #12]
 2545 0008 0B46     		mov	r3, r1
 2546 000a 7A60     		str	r2, [r7, #4]
 2547 000c FB72     		strb	r3, [r7, #11]
 825:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 2548              		.loc 1 825 94
 2549 000e FB68     		ldr	r3, [r7, #12]
 2550 0010 D3F8D422 		ldr	r2, [r3, #724]
 2551              		.loc 1 825 31
 2552 0014 FB68     		ldr	r3, [r7, #12]
 2553 0016 B032     		adds	r2, r2, #176
 2554 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 2555 001c 7B61     		str	r3, [r7, #20]
 826:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint32_t len;
 827:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 828:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 2556              		.loc 1 828 6
 2557 001e 7B69     		ldr	r3, [r7, #20]
 2558 0020 002B     		cmp	r3, #0
 2559 0022 02D1     		bne	.L115
 829:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 830:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 2560              		.loc 1 830 12
 2561 0024 4FF0FF33 		mov	r3, #-1
 2562 0028 BAE0     		b	.L116
 2563              	.L115:
 831:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 832:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 833:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #ifdef USE_USBD_COMPOSITE
 834:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* Get the Endpoints addresses allocated for this class instance */
 835:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   MSCOutEpAdd = USBD_CoreGetEPAdd(pdev, USBD_EP_OUT, USBD_EP_TYPE_BULK, (uint8_t)pdev->classId);
 836:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #endif /* USE_USBD_COMPOSITE */
 837:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 838:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->bot_state == USBD_BOT_IDLE) /* Idle */
 2564              		.loc 1 838 11
 2565 002a 7B69     		ldr	r3, [r7, #20]
 2566 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2567              		.loc 1 838 6
 2568 002e 002B     		cmp	r3, #0
 2569 0030 40F0B080 		bne	.L117
 839:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 840:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->cbw.dDataLength == 0U)
 2570              		.loc 1 840 18
 2571 0034 7B69     		ldr	r3, [r7, #20]
 2572 0036 D3F81832 		ldr	r3, [r3, #536]
 2573              		.loc 1 840 8
 2574 003a 002B     		cmp	r3, #0
 2575 003c 0AD1     		bne	.L118
 841:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 842:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2576              		.loc 1 842 7
 2577 003e 7B69     		ldr	r3, [r7, #20]
 2578 0040 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 61


 2579 0044 2023     		movs	r3, #32
 2580 0046 0522     		movs	r2, #5
 2581 0048 F868     		ldr	r0, [r7, #12]
 2582 004a FFF7FEFF 		bl	SCSI_SenseCode
 843:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2583              		.loc 1 843 14
 2584 004e 4FF0FF33 		mov	r3, #-1
 2585 0052 A5E0     		b	.L116
 2586              	.L118:
 844:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 845:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 846:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* case 8 : Hi <> Do */
 847:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if ((hmsc->cbw.bmFlags & 0x80U) == 0x80U)
 2587              		.loc 1 847 19
 2588 0054 7B69     		ldr	r3, [r7, #20]
 2589 0056 93F81C32 		ldrb	r3, [r3, #540]	@ zero_extendqisi2
 2590              		.loc 1 847 37
 2591 005a 5BB2     		sxtb	r3, r3
 2592              		.loc 1 847 8
 2593 005c 002B     		cmp	r3, #0
 2594 005e 0ADA     		bge	.L119
 848:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 849:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2595              		.loc 1 849 7
 2596 0060 7B69     		ldr	r3, [r7, #20]
 2597 0062 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2598 0066 2023     		movs	r3, #32
 2599 0068 0522     		movs	r2, #5
 2600 006a F868     		ldr	r0, [r7, #12]
 2601 006c FFF7FEFF 		bl	SCSI_SenseCode
 850:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2602              		.loc 1 850 14
 2603 0070 4FF0FF33 		mov	r3, #-1
 2604 0074 94E0     		b	.L116
 2605              	.L119:
 851:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 852:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 853:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Check whether Media is ready */
 854:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsReady(lun) != 0)
 2606              		.loc 1 854 53
 2607 0076 FB68     		ldr	r3, [r7, #12]
 2608 0078 D3F8D432 		ldr	r3, [r3, #724]
 2609              		.loc 1 854 48
 2610 007c FA68     		ldr	r2, [r7, #12]
 2611 007e B033     		adds	r3, r3, #176
 2612 0080 9B00     		lsls	r3, r3, #2
 2613 0082 1344     		add	r3, r3, r2
 2614 0084 5B68     		ldr	r3, [r3, #4]
 2615              		.loc 1 854 64
 2616 0086 9B68     		ldr	r3, [r3, #8]
 2617              		.loc 1 854 10
 2618 0088 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2619 008a 1046     		mov	r0, r2
 2620 008c 9847     		blx	r3
 2621              	.LVL6:
 2622 008e 0346     		mov	r3, r0
 2623              		.loc 1 854 8
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 62


 2624 0090 002B     		cmp	r3, #0
 2625 0092 08D0     		beq	.L120
 855:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 856:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 2626              		.loc 1 856 7
 2627 0094 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2628 0096 3A23     		movs	r3, #58
 2629 0098 0222     		movs	r2, #2
 2630 009a F868     		ldr	r0, [r7, #12]
 2631 009c FFF7FEFF 		bl	SCSI_SenseCode
 857:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2632              		.loc 1 857 14
 2633 00a0 4FF0FF33 		mov	r3, #-1
 2634 00a4 7CE0     		b	.L116
 2635              	.L120:
 858:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 859:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 860:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Check If media is write-protected */
 861:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsWriteProtected(lun) != 0)
 2636              		.loc 1 861 53
 2637 00a6 FB68     		ldr	r3, [r7, #12]
 2638 00a8 D3F8D432 		ldr	r3, [r3, #724]
 2639              		.loc 1 861 48
 2640 00ac FA68     		ldr	r2, [r7, #12]
 2641 00ae B033     		adds	r3, r3, #176
 2642 00b0 9B00     		lsls	r3, r3, #2
 2643 00b2 1344     		add	r3, r3, r2
 2644 00b4 5B68     		ldr	r3, [r3, #4]
 2645              		.loc 1 861 64
 2646 00b6 DB68     		ldr	r3, [r3, #12]
 2647              		.loc 1 861 10
 2648 00b8 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2649 00ba 1046     		mov	r0, r2
 2650 00bc 9847     		blx	r3
 2651              	.LVL7:
 2652 00be 0346     		mov	r3, r0
 2653              		.loc 1 861 8
 2654 00c0 002B     		cmp	r3, #0
 2655 00c2 08D0     		beq	.L121
 862:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 863:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, WRITE_PROTECTED);
 2656              		.loc 1 863 7
 2657 00c4 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2658 00c6 2723     		movs	r3, #39
 2659 00c8 0222     		movs	r2, #2
 2660 00ca F868     		ldr	r0, [r7, #12]
 2661 00cc FFF7FEFF 		bl	SCSI_SenseCode
 864:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2662              		.loc 1 864 14
 2663 00d0 4FF0FF33 		mov	r3, #-1
 2664 00d4 64E0     		b	.L116
 2665              	.L121:
 865:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 866:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 867:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_addr = ((uint32_t)params[2] << 24) |
 2666              		.loc 1 867 44
 2667 00d6 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 63


 2668 00d8 0233     		adds	r3, r3, #2
 2669 00da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2670              		.loc 1 867 48
 2671 00dc 1A06     		lsls	r2, r3, #24
 868:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2672              		.loc 1 868 44
 2673 00de 7B68     		ldr	r3, [r7, #4]
 2674 00e0 0333     		adds	r3, r3, #3
 2675 00e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2676              		.loc 1 868 48
 2677 00e4 1B04     		lsls	r3, r3, #16
 867:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2678              		.loc 1 867 55
 2679 00e6 1A43     		orrs	r2, r2, r3
 869:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] << 8) |
 2680              		.loc 1 869 44
 2681 00e8 7B68     		ldr	r3, [r7, #4]
 2682 00ea 0433     		adds	r3, r3, #4
 2683 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2684              		.loc 1 869 48
 2685 00ee 1B02     		lsls	r3, r3, #8
 868:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2686              		.loc 1 868 55
 2687 00f0 1343     		orrs	r3, r3, r2
 870:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           (uint32_t)params[5];
 2688              		.loc 1 870 43
 2689 00f2 7A68     		ldr	r2, [r7, #4]
 2690 00f4 0532     		adds	r2, r2, #5
 2691 00f6 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 869:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] << 8) |
 2692              		.loc 1 869 54
 2693 00f8 1A43     		orrs	r2, r2, r3
 867:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2694              		.loc 1 867 25
 2695 00fa 7B69     		ldr	r3, [r7, #20]
 2696 00fc C3F86C22 		str	r2, [r3, #620]
 871:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 872:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_len = ((uint32_t)params[7] << 8) |
 2697              		.loc 1 872 43
 2698 0100 7B68     		ldr	r3, [r7, #4]
 2699 0102 0733     		adds	r3, r3, #7
 2700 0104 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2701              		.loc 1 872 47
 2702 0106 1B02     		lsls	r3, r3, #8
 873:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          (uint32_t)params[8];
 2703              		.loc 1 873 42
 2704 0108 7A68     		ldr	r2, [r7, #4]
 2705 010a 0832     		adds	r2, r2, #8
 2706 010c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 872:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          (uint32_t)params[8];
 2707              		.loc 1 872 53
 2708 010e 1A43     		orrs	r2, r2, r3
 872:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          (uint32_t)params[8];
 2709              		.loc 1 872 24
 2710 0110 7B69     		ldr	r3, [r7, #20]
 2711 0112 C3F87022 		str	r2, [r3, #624]
 874:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 64


 875:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* check if LBA address is in the right range */
 876:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (SCSI_CheckAddressRange(pdev, lun, hmsc->scsi_blk_addr,
 2712              		.loc 1 876 9
 2713 0116 7B69     		ldr	r3, [r7, #20]
 2714 0118 D3F86C22 		ldr	r2, [r3, #620]
 2715 011c 7B69     		ldr	r3, [r7, #20]
 2716 011e D3F87032 		ldr	r3, [r3, #624]
 2717 0122 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2718 0124 F868     		ldr	r0, [r7, #12]
 2719 0126 FFF7FEFF 		bl	SCSI_CheckAddressRange
 2720 012a 0346     		mov	r3, r0
 2721              		.loc 1 876 8
 2722 012c 002B     		cmp	r3, #0
 2723 012e 02DA     		bge	.L122
 877:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                hmsc->scsi_blk_len) < 0)
 878:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 879:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1; /* error */
 2724              		.loc 1 879 14
 2725 0130 4FF0FF33 		mov	r3, #-1
 2726 0134 34E0     		b	.L116
 2727              	.L122:
 880:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 881:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 882:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = hmsc->scsi_blk_len * hmsc->scsi_blk_size;
 2728              		.loc 1 882 15
 2729 0136 7B69     		ldr	r3, [r7, #20]
 2730 0138 D3F87032 		ldr	r3, [r3, #624]
 2731              		.loc 1 882 36
 2732 013c 7A69     		ldr	r2, [r7, #20]
 2733 013e B2F86422 		ldrh	r2, [r2, #612]
 2734              		.loc 1 882 9
 2735 0142 02FB03F3 		mul	r3, r2, r3
 2736 0146 3B61     		str	r3, [r7, #16]
 883:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 884:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* cases 3,11,13 : Hn,Ho <> D0 */
 885:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->cbw.dDataLength != len)
 2737              		.loc 1 885 18
 2738 0148 7B69     		ldr	r3, [r7, #20]
 2739 014a D3F81832 		ldr	r3, [r3, #536]
 2740              		.loc 1 885 8
 2741 014e 3A69     		ldr	r2, [r7, #16]
 2742 0150 9A42     		cmp	r2, r3
 2743 0152 0AD0     		beq	.L123
 886:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 887:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2744              		.loc 1 887 7
 2745 0154 7B69     		ldr	r3, [r7, #20]
 2746 0156 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2747 015a 2023     		movs	r3, #32
 2748 015c 0522     		movs	r2, #5
 2749 015e F868     		ldr	r0, [r7, #12]
 2750 0160 FFF7FEFF 		bl	SCSI_SenseCode
 888:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2751              		.loc 1 888 14
 2752 0164 4FF0FF33 		mov	r3, #-1
 2753 0168 1AE0     		b	.L116
 2754              	.L123:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 65


 889:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 890:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 891:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = MIN(len, MSC_MEDIA_PACKET);
 2755              		.loc 1 891 9
 2756 016a 3B69     		ldr	r3, [r7, #16]
 2757 016c B3F5007F 		cmp	r3, #512
 2758 0170 28BF     		it	cs
 2759 0172 4FF40073 		movcs	r3, #512
 2760 0176 3B61     		str	r3, [r7, #16]
 892:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 893:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Prepare EP to receive first data packet */
 894:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_DATA_OUT;
 2761              		.loc 1 894 21
 2762 0178 7B69     		ldr	r3, [r7, #20]
 2763 017a 0122     		movs	r2, #1
 2764 017c 1A72     		strb	r2, [r3, #8]
 895:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     (void)USBD_LL_PrepareReceive(pdev, MSCOutEpAdd, hmsc->bot_data, len);
 2765              		.loc 1 895 5
 2766 017e 0A4B     		ldr	r3, .L125
 2767 0180 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2768              		.loc 1 895 57
 2769 0182 7B69     		ldr	r3, [r7, #20]
 2770 0184 03F11002 		add	r2, r3, #16
 2771              		.loc 1 895 11
 2772 0188 3B69     		ldr	r3, [r7, #16]
 2773 018a F868     		ldr	r0, [r7, #12]
 2774 018c FFF7FEFF 		bl	USBD_LL_PrepareReceive
 896:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 897:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else /* Write Process ongoing */
 898:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 899:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return SCSI_ProcessWrite(pdev, lun);
 900:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 901:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 902:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 2775              		.loc 1 902 10
 2776 0190 0023     		movs	r3, #0
 2777 0192 05E0     		b	.L116
 2778              	.L117:
 899:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 2779              		.loc 1 899 12
 2780 0194 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2781 0196 1946     		mov	r1, r3
 2782 0198 F868     		ldr	r0, [r7, #12]
 2783 019a FFF7FEFF 		bl	SCSI_ProcessWrite
 2784 019e 0346     		mov	r3, r0
 2785              	.L116:
 903:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 2786              		.loc 1 903 1
 2787 01a0 1846     		mov	r0, r3
 2788 01a2 1837     		adds	r7, r7, #24
 2789              	.LCFI75:
 2790              		.cfi_def_cfa_offset 8
 2791 01a4 BD46     		mov	sp, r7
 2792              	.LCFI76:
 2793              		.cfi_def_cfa_register 13
 2794              		@ sp needed
 2795 01a6 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 66


 2796              	.L126:
 2797              		.align	2
 2798              	.L125:
 2799 01a8 00000000 		.word	MSCOutEpAdd
 2800              		.cfi_endproc
 2801              	.LFE159:
 2803              		.section	.text.SCSI_Write12,"ax",%progbits
 2804              		.align	1
 2805              		.syntax unified
 2806              		.thumb
 2807              		.thumb_func
 2809              	SCSI_Write12:
 2810              	.LFB160:
 904:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 905:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 906:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
 907:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_Write12
 908:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Write12 command
 909:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
 910:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
 911:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
 912:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
 913:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Write12(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
 914:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 2811              		.loc 1 914 1
 2812              		.cfi_startproc
 2813              		@ args = 0, pretend = 0, frame = 24
 2814              		@ frame_needed = 1, uses_anonymous_args = 0
 2815 0000 80B5     		push	{r7, lr}
 2816              	.LCFI77:
 2817              		.cfi_def_cfa_offset 8
 2818              		.cfi_offset 7, -8
 2819              		.cfi_offset 14, -4
 2820 0002 86B0     		sub	sp, sp, #24
 2821              	.LCFI78:
 2822              		.cfi_def_cfa_offset 32
 2823 0004 00AF     		add	r7, sp, #0
 2824              	.LCFI79:
 2825              		.cfi_def_cfa_register 7
 2826 0006 F860     		str	r0, [r7, #12]
 2827 0008 0B46     		mov	r3, r1
 2828 000a 7A60     		str	r2, [r7, #4]
 2829 000c FB72     		strb	r3, [r7, #11]
 915:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 2830              		.loc 1 915 94
 2831 000e FB68     		ldr	r3, [r7, #12]
 2832 0010 D3F8D422 		ldr	r2, [r3, #724]
 2833              		.loc 1 915 31
 2834 0014 FB68     		ldr	r3, [r7, #12]
 2835 0016 B032     		adds	r2, r2, #176
 2836 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 2837 001c 7B61     		str	r3, [r7, #20]
 916:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint32_t len;
 917:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 918:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 2838              		.loc 1 918 6
 2839 001e 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 67


 2840 0020 002B     		cmp	r3, #0
 2841 0022 02D1     		bne	.L128
 919:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 920:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 2842              		.loc 1 920 12
 2843 0024 4FF0FF33 		mov	r3, #-1
 2844 0028 CAE0     		b	.L129
 2845              	.L128:
 921:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 922:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #ifdef USE_USBD_COMPOSITE
 923:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* Get the Endpoints addresses allocated for this class instance */
 924:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   MSCOutEpAdd = USBD_CoreGetEPAdd(pdev, USBD_EP_OUT, USBD_EP_TYPE_BULK, (uint8_t)pdev->classId);
 925:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #endif /* USE_USBD_COMPOSITE */
 926:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 927:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->bot_state == USBD_BOT_IDLE) /* Idle */
 2846              		.loc 1 927 11
 2847 002a 7B69     		ldr	r3, [r7, #20]
 2848 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2849              		.loc 1 927 6
 2850 002e 002B     		cmp	r3, #0
 2851 0030 40F0C080 		bne	.L130
 928:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 929:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->cbw.dDataLength == 0U)
 2852              		.loc 1 929 18
 2853 0034 7B69     		ldr	r3, [r7, #20]
 2854 0036 D3F81832 		ldr	r3, [r3, #536]
 2855              		.loc 1 929 8
 2856 003a 002B     		cmp	r3, #0
 2857 003c 0AD1     		bne	.L131
 930:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 931:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 2858              		.loc 1 931 7
 2859 003e 7B69     		ldr	r3, [r7, #20]
 2860 0040 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2861 0044 2023     		movs	r3, #32
 2862 0046 0522     		movs	r2, #5
 2863 0048 F868     		ldr	r0, [r7, #12]
 2864 004a FFF7FEFF 		bl	SCSI_SenseCode
 932:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2865              		.loc 1 932 14
 2866 004e 4FF0FF33 		mov	r3, #-1
 2867 0052 B5E0     		b	.L129
 2868              	.L131:
 933:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 934:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 935:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* case 8 : Hi <> Do */
 936:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if ((hmsc->cbw.bmFlags & 0x80U) == 0x80U)
 2869              		.loc 1 936 19
 2870 0054 7B69     		ldr	r3, [r7, #20]
 2871 0056 93F81C32 		ldrb	r3, [r3, #540]	@ zero_extendqisi2
 2872              		.loc 1 936 37
 2873 005a 5BB2     		sxtb	r3, r3
 2874              		.loc 1 936 8
 2875 005c 002B     		cmp	r3, #0
 2876 005e 0ADA     		bge	.L132
 937:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 938:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 68


 2877              		.loc 1 938 7
 2878 0060 7B69     		ldr	r3, [r7, #20]
 2879 0062 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 2880 0066 2023     		movs	r3, #32
 2881 0068 0522     		movs	r2, #5
 2882 006a F868     		ldr	r0, [r7, #12]
 2883 006c FFF7FEFF 		bl	SCSI_SenseCode
 939:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2884              		.loc 1 939 14
 2885 0070 4FF0FF33 		mov	r3, #-1
 2886 0074 A4E0     		b	.L129
 2887              	.L132:
 940:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 941:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 942:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Check whether Media is ready */
 943:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsReady(lun) != 0)
 2888              		.loc 1 943 53
 2889 0076 FB68     		ldr	r3, [r7, #12]
 2890 0078 D3F8D432 		ldr	r3, [r3, #724]
 2891              		.loc 1 943 48
 2892 007c FA68     		ldr	r2, [r7, #12]
 2893 007e B033     		adds	r3, r3, #176
 2894 0080 9B00     		lsls	r3, r3, #2
 2895 0082 1344     		add	r3, r3, r2
 2896 0084 5B68     		ldr	r3, [r3, #4]
 2897              		.loc 1 943 64
 2898 0086 9B68     		ldr	r3, [r3, #8]
 2899              		.loc 1 943 10
 2900 0088 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2901 008a 1046     		mov	r0, r2
 2902 008c 9847     		blx	r3
 2903              	.LVL8:
 2904 008e 0346     		mov	r3, r0
 2905              		.loc 1 943 8
 2906 0090 002B     		cmp	r3, #0
 2907 0092 0BD0     		beq	.L133
 944:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 945:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, MEDIUM_NOT_PRESENT);
 2908              		.loc 1 945 7
 2909 0094 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2910 0096 3A23     		movs	r3, #58
 2911 0098 0222     		movs	r2, #2
 2912 009a F868     		ldr	r0, [r7, #12]
 2913 009c FFF7FEFF 		bl	SCSI_SenseCode
 946:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       hmsc->bot_state = USBD_BOT_NO_DATA;
 2914              		.loc 1 946 23
 2915 00a0 7B69     		ldr	r3, [r7, #20]
 2916 00a2 0522     		movs	r2, #5
 2917 00a4 1A72     		strb	r2, [r3, #8]
 947:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2918              		.loc 1 947 14
 2919 00a6 4FF0FF33 		mov	r3, #-1
 2920 00aa 89E0     		b	.L129
 2921              	.L133:
 948:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 949:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 950:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Check If media is write-protected */
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 69


 951:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->IsWriteProtected(lun) != 0)
 2922              		.loc 1 951 53
 2923 00ac FB68     		ldr	r3, [r7, #12]
 2924 00ae D3F8D432 		ldr	r3, [r3, #724]
 2925              		.loc 1 951 48
 2926 00b2 FA68     		ldr	r2, [r7, #12]
 2927 00b4 B033     		adds	r3, r3, #176
 2928 00b6 9B00     		lsls	r3, r3, #2
 2929 00b8 1344     		add	r3, r3, r2
 2930 00ba 5B68     		ldr	r3, [r3, #4]
 2931              		.loc 1 951 64
 2932 00bc DB68     		ldr	r3, [r3, #12]
 2933              		.loc 1 951 10
 2934 00be FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2935 00c0 1046     		mov	r0, r2
 2936 00c2 9847     		blx	r3
 2937              	.LVL9:
 2938 00c4 0346     		mov	r3, r0
 2939              		.loc 1 951 8
 2940 00c6 002B     		cmp	r3, #0
 2941 00c8 0BD0     		beq	.L134
 952:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 953:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, lun, NOT_READY, WRITE_PROTECTED);
 2942              		.loc 1 953 7
 2943 00ca F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2944 00cc 2723     		movs	r3, #39
 2945 00ce 0222     		movs	r2, #2
 2946 00d0 F868     		ldr	r0, [r7, #12]
 2947 00d2 FFF7FEFF 		bl	SCSI_SenseCode
 954:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       hmsc->bot_state = USBD_BOT_NO_DATA;
 2948              		.loc 1 954 23
 2949 00d6 7B69     		ldr	r3, [r7, #20]
 2950 00d8 0522     		movs	r2, #5
 2951 00da 1A72     		strb	r2, [r3, #8]
 955:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 2952              		.loc 1 955 14
 2953 00dc 4FF0FF33 		mov	r3, #-1
 2954 00e0 6EE0     		b	.L129
 2955              	.L134:
 956:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 957:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 958:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_addr = ((uint32_t)params[2] << 24) |
 2956              		.loc 1 958 44
 2957 00e2 7B68     		ldr	r3, [r7, #4]
 2958 00e4 0233     		adds	r3, r3, #2
 2959 00e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2960              		.loc 1 958 48
 2961 00e8 1A06     		lsls	r2, r3, #24
 959:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2962              		.loc 1 959 44
 2963 00ea 7B68     		ldr	r3, [r7, #4]
 2964 00ec 0333     		adds	r3, r3, #3
 2965 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2966              		.loc 1 959 48
 2967 00f0 1B04     		lsls	r3, r3, #16
 958:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2968              		.loc 1 958 55
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 70


 2969 00f2 1A43     		orrs	r2, r2, r3
 960:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] << 8) |
 2970              		.loc 1 960 44
 2971 00f4 7B68     		ldr	r3, [r7, #4]
 2972 00f6 0433     		adds	r3, r3, #4
 2973 00f8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2974              		.loc 1 960 48
 2975 00fa 1B02     		lsls	r3, r3, #8
 959:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2976              		.loc 1 959 55
 2977 00fc 1343     		orrs	r3, r3, r2
 961:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           (uint32_t)params[5];
 2978              		.loc 1 961 43
 2979 00fe 7A68     		ldr	r2, [r7, #4]
 2980 0100 0532     		adds	r2, r2, #5
 2981 0102 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 960:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[4] << 8) |
 2982              		.loc 1 960 54
 2983 0104 1A43     		orrs	r2, r2, r3
 958:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                           ((uint32_t)params[3] << 16) |
 2984              		.loc 1 958 25
 2985 0106 7B69     		ldr	r3, [r7, #20]
 2986 0108 C3F86C22 		str	r2, [r3, #620]
 962:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 963:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->scsi_blk_len = ((uint32_t)params[6] << 24) |
 2987              		.loc 1 963 43
 2988 010c 7B68     		ldr	r3, [r7, #4]
 2989 010e 0633     		adds	r3, r3, #6
 2990 0110 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2991              		.loc 1 963 47
 2992 0112 1A06     		lsls	r2, r3, #24
 964:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 2993              		.loc 1 964 43
 2994 0114 7B68     		ldr	r3, [r7, #4]
 2995 0116 0733     		adds	r3, r3, #7
 2996 0118 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2997              		.loc 1 964 47
 2998 011a 1B04     		lsls	r3, r3, #16
 963:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 2999              		.loc 1 963 54
 3000 011c 1A43     		orrs	r2, r2, r3
 965:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[8] << 8) |
 3001              		.loc 1 965 43
 3002 011e 7B68     		ldr	r3, [r7, #4]
 3003 0120 0833     		adds	r3, r3, #8
 3004 0122 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3005              		.loc 1 965 47
 3006 0124 1B02     		lsls	r3, r3, #8
 964:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 3007              		.loc 1 964 54
 3008 0126 1343     		orrs	r3, r3, r2
 966:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          (uint32_t)params[9];
 3009              		.loc 1 966 42
 3010 0128 7A68     		ldr	r2, [r7, #4]
 3011 012a 0932     		adds	r2, r2, #9
 3012 012c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 965:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[8] << 8) |
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 71


 3013              		.loc 1 965 53
 3014 012e 1A43     		orrs	r2, r2, r3
 963:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                          ((uint32_t)params[7] << 16) |
 3015              		.loc 1 963 24
 3016 0130 7B69     		ldr	r3, [r7, #20]
 3017 0132 C3F87022 		str	r2, [r3, #624]
 967:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 968:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* check if LBA address is in the right range */
 969:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (SCSI_CheckAddressRange(pdev, lun, hmsc->scsi_blk_addr,
 3018              		.loc 1 969 9
 3019 0136 7B69     		ldr	r3, [r7, #20]
 3020 0138 D3F86C22 		ldr	r2, [r3, #620]
 3021 013c 7B69     		ldr	r3, [r7, #20]
 3022 013e D3F87032 		ldr	r3, [r3, #624]
 3023 0142 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 3024 0144 F868     		ldr	r0, [r7, #12]
 3025 0146 FFF7FEFF 		bl	SCSI_CheckAddressRange
 3026 014a 0346     		mov	r3, r0
 3027              		.loc 1 969 8
 3028 014c 002B     		cmp	r3, #0
 3029 014e 02DA     		bge	.L135
 970:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                hmsc->scsi_blk_len) < 0)
 971:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 972:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1; /* error */
 3030              		.loc 1 972 14
 3031 0150 4FF0FF33 		mov	r3, #-1
 3032 0154 34E0     		b	.L129
 3033              	.L135:
 973:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 974:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 975:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = hmsc->scsi_blk_len * hmsc->scsi_blk_size;
 3034              		.loc 1 975 15
 3035 0156 7B69     		ldr	r3, [r7, #20]
 3036 0158 D3F87032 		ldr	r3, [r3, #624]
 3037              		.loc 1 975 36
 3038 015c 7A69     		ldr	r2, [r7, #20]
 3039 015e B2F86422 		ldrh	r2, [r2, #612]
 3040              		.loc 1 975 9
 3041 0162 02FB03F3 		mul	r3, r2, r3
 3042 0166 3B61     		str	r3, [r7, #16]
 976:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 977:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* cases 3,11,13 : Hn,Ho <> D0 */
 978:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     if (hmsc->cbw.dDataLength != len)
 3043              		.loc 1 978 18
 3044 0168 7B69     		ldr	r3, [r7, #20]
 3045 016a D3F81832 		ldr	r3, [r3, #536]
 3046              		.loc 1 978 8
 3047 016e 3A69     		ldr	r2, [r7, #16]
 3048 0170 9A42     		cmp	r2, r3
 3049 0172 0AD0     		beq	.L136
 979:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     {
 980:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       SCSI_SenseCode(pdev, hmsc->cbw.bLUN, ILLEGAL_REQUEST, INVALID_CDB);
 3050              		.loc 1 980 7
 3051 0174 7B69     		ldr	r3, [r7, #20]
 3052 0176 93F81D12 		ldrb	r1, [r3, #541]	@ zero_extendqisi2
 3053 017a 2023     		movs	r3, #32
 3054 017c 0522     		movs	r2, #5
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 72


 3055 017e F868     		ldr	r0, [r7, #12]
 3056 0180 FFF7FEFF 		bl	SCSI_SenseCode
 981:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****       return -1;
 3057              		.loc 1 981 14
 3058 0184 4FF0FF33 		mov	r3, #-1
 3059 0188 1AE0     		b	.L129
 3060              	.L136:
 982:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     }
 983:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 984:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = MIN(len, MSC_MEDIA_PACKET);
 3061              		.loc 1 984 9
 3062 018a 3B69     		ldr	r3, [r7, #16]
 3063 018c B3F5007F 		cmp	r3, #512
 3064 0190 28BF     		it	cs
 3065 0192 4FF40073 		movcs	r3, #512
 3066 0196 3B61     		str	r3, [r7, #16]
 985:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 986:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Prepare EP to receive first data packet */
 987:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_DATA_OUT;
 3067              		.loc 1 987 21
 3068 0198 7B69     		ldr	r3, [r7, #20]
 3069 019a 0122     		movs	r2, #1
 3070 019c 1A72     		strb	r2, [r3, #8]
 988:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     (void)USBD_LL_PrepareReceive(pdev, MSCOutEpAdd, hmsc->bot_data, len);
 3071              		.loc 1 988 5
 3072 019e 0A4B     		ldr	r3, .L138
 3073 01a0 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3074              		.loc 1 988 57
 3075 01a2 7B69     		ldr	r3, [r7, #20]
 3076 01a4 03F11002 		add	r2, r3, #16
 3077              		.loc 1 988 11
 3078 01a8 3B69     		ldr	r3, [r7, #16]
 3079 01aa F868     		ldr	r0, [r7, #12]
 3080 01ac FFF7FEFF 		bl	USBD_LL_PrepareReceive
 989:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 990:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else /* Write Process ongoing */
 991:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 992:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return SCSI_ProcessWrite(pdev, lun);
 993:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 994:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 995:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 3081              		.loc 1 995 10
 3082 01b0 0023     		movs	r3, #0
 3083 01b2 05E0     		b	.L129
 3084              	.L130:
 992:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
 3085              		.loc 1 992 12
 3086 01b4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 3087 01b6 1946     		mov	r1, r3
 3088 01b8 F868     		ldr	r0, [r7, #12]
 3089 01ba FFF7FEFF 		bl	SCSI_ProcessWrite
 3090 01be 0346     		mov	r3, r0
 3091              	.L129:
 996:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 3092              		.loc 1 996 1
 3093 01c0 1846     		mov	r0, r3
 3094 01c2 1837     		adds	r7, r7, #24
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 73


 3095              	.LCFI80:
 3096              		.cfi_def_cfa_offset 8
 3097 01c4 BD46     		mov	sp, r7
 3098              	.LCFI81:
 3099              		.cfi_def_cfa_register 13
 3100              		@ sp needed
 3101 01c6 80BD     		pop	{r7, pc}
 3102              	.L139:
 3103              		.align	2
 3104              	.L138:
 3105 01c8 00000000 		.word	MSCOutEpAdd
 3106              		.cfi_endproc
 3107              	.LFE160:
 3109              		.section	.text.SCSI_Verify10,"ax",%progbits
 3110              		.align	1
 3111              		.syntax unified
 3112              		.thumb
 3113              		.thumb_func
 3115              	SCSI_Verify10:
 3116              	.LFB161:
 997:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 998:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
 999:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
1000:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_Verify10
1001:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Process Verify10 command
1002:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
1003:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  params: Command parameters
1004:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
1005:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
1006:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_Verify10(USBD_HandleTypeDef *pdev, uint8_t lun, uint8_t *params)
1007:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 3117              		.loc 1 1007 1
 3118              		.cfi_startproc
 3119              		@ args = 0, pretend = 0, frame = 24
 3120              		@ frame_needed = 1, uses_anonymous_args = 0
 3121 0000 80B5     		push	{r7, lr}
 3122              	.LCFI82:
 3123              		.cfi_def_cfa_offset 8
 3124              		.cfi_offset 7, -8
 3125              		.cfi_offset 14, -4
 3126 0002 86B0     		sub	sp, sp, #24
 3127              	.LCFI83:
 3128              		.cfi_def_cfa_offset 32
 3129 0004 00AF     		add	r7, sp, #0
 3130              	.LCFI84:
 3131              		.cfi_def_cfa_register 7
 3132 0006 F860     		str	r0, [r7, #12]
 3133 0008 0B46     		mov	r3, r1
 3134 000a 7A60     		str	r2, [r7, #4]
 3135 000c FB72     		strb	r3, [r7, #11]
1008:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 3136              		.loc 1 1008 94
 3137 000e FB68     		ldr	r3, [r7, #12]
 3138 0010 D3F8D422 		ldr	r2, [r3, #724]
 3139              		.loc 1 1008 31
 3140 0014 FB68     		ldr	r3, [r7, #12]
 3141 0016 B032     		adds	r2, r2, #176
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 74


 3142 0018 53F82230 		ldr	r3, [r3, r2, lsl #2]
 3143 001c 7B61     		str	r3, [r7, #20]
1009:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1010:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 3144              		.loc 1 1010 6
 3145 001e 7B69     		ldr	r3, [r7, #20]
 3146 0020 002B     		cmp	r3, #0
 3147 0022 02D1     		bne	.L141
1011:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1012:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3148              		.loc 1 1012 12
 3149 0024 4FF0FF33 		mov	r3, #-1
 3150 0028 23E0     		b	.L142
 3151              	.L141:
1013:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1014:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1015:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((params[1] & 0x02U) == 0x02U)
 3152              		.loc 1 1015 14
 3153 002a 7B68     		ldr	r3, [r7, #4]
 3154 002c 0133     		adds	r3, r3, #1
 3155 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3156              		.loc 1 1015 18
 3157 0030 03F00203 		and	r3, r3, #2
 3158              		.loc 1 1015 6
 3159 0034 002B     		cmp	r3, #0
 3160 0036 08D0     		beq	.L143
1016:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1017:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, ILLEGAL_REQUEST, INVALID_FIELED_IN_COMMAND);
 3161              		.loc 1 1017 5
 3162 0038 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 3163 003a 2423     		movs	r3, #36
 3164 003c 0522     		movs	r2, #5
 3165 003e F868     		ldr	r0, [r7, #12]
 3166 0040 FFF7FEFF 		bl	SCSI_SenseCode
1018:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1; /* Error, Verify Mode Not supported*/
 3167              		.loc 1 1018 12
 3168 0044 4FF0FF33 		mov	r3, #-1
 3169 0048 13E0     		b	.L142
 3170              	.L143:
1019:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1020:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1021:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (SCSI_CheckAddressRange(pdev, lun, hmsc->scsi_blk_addr, hmsc->scsi_blk_len) < 0)
 3171              		.loc 1 1021 7
 3172 004a 7B69     		ldr	r3, [r7, #20]
 3173 004c D3F86C22 		ldr	r2, [r3, #620]
 3174 0050 7B69     		ldr	r3, [r7, #20]
 3175 0052 D3F87032 		ldr	r3, [r3, #624]
 3176 0056 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 3177 0058 F868     		ldr	r0, [r7, #12]
 3178 005a FFF7FEFF 		bl	SCSI_CheckAddressRange
 3179 005e 0346     		mov	r3, r0
 3180              		.loc 1 1021 6
 3181 0060 002B     		cmp	r3, #0
 3182 0062 02DA     		bge	.L144
1022:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1023:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1; /* error */
 3183              		.loc 1 1023 12
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 75


 3184 0064 4FF0FF33 		mov	r3, #-1
 3185 0068 03E0     		b	.L142
 3186              	.L144:
1024:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1025:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1026:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = 0U;
 3187              		.loc 1 1026 25
 3188 006a 7B69     		ldr	r3, [r7, #20]
 3189 006c 0022     		movs	r2, #0
 3190 006e DA60     		str	r2, [r3, #12]
1027:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1028:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 3191              		.loc 1 1028 10
 3192 0070 0023     		movs	r3, #0
 3193              	.L142:
1029:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 3194              		.loc 1 1029 1
 3195 0072 1846     		mov	r0, r3
 3196 0074 1837     		adds	r7, r7, #24
 3197              	.LCFI85:
 3198              		.cfi_def_cfa_offset 8
 3199 0076 BD46     		mov	sp, r7
 3200              	.LCFI86:
 3201              		.cfi_def_cfa_register 13
 3202              		@ sp needed
 3203 0078 80BD     		pop	{r7, pc}
 3204              		.cfi_endproc
 3205              	.LFE161:
 3207              		.section	.text.SCSI_CheckAddressRange,"ax",%progbits
 3208              		.align	1
 3209              		.syntax unified
 3210              		.thumb
 3211              		.thumb_func
 3213              	SCSI_CheckAddressRange:
 3214              	.LFB162:
1030:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1031:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
1032:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_CheckAddressRange
1033:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Check address range
1034:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
1035:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  blk_offset: first block address
1036:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  blk_nbr: number of block to be processed
1037:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
1038:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
1039:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_CheckAddressRange(USBD_HandleTypeDef *pdev, uint8_t lun,
1040:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                      uint32_t blk_offset, uint32_t blk_nbr)
1041:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 3215              		.loc 1 1041 1
 3216              		.cfi_startproc
 3217              		@ args = 0, pretend = 0, frame = 24
 3218              		@ frame_needed = 1, uses_anonymous_args = 0
 3219 0000 80B5     		push	{r7, lr}
 3220              	.LCFI87:
 3221              		.cfi_def_cfa_offset 8
 3222              		.cfi_offset 7, -8
 3223              		.cfi_offset 14, -4
 3224 0002 86B0     		sub	sp, sp, #24
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 76


 3225              	.LCFI88:
 3226              		.cfi_def_cfa_offset 32
 3227 0004 00AF     		add	r7, sp, #0
 3228              	.LCFI89:
 3229              		.cfi_def_cfa_register 7
 3230 0006 F860     		str	r0, [r7, #12]
 3231 0008 7A60     		str	r2, [r7, #4]
 3232 000a 3B60     		str	r3, [r7]
 3233 000c 0B46     		mov	r3, r1
 3234 000e FB72     		strb	r3, [r7, #11]
1042:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 3235              		.loc 1 1042 94
 3236 0010 FB68     		ldr	r3, [r7, #12]
 3237 0012 D3F8D422 		ldr	r2, [r3, #724]
 3238              		.loc 1 1042 31
 3239 0016 FB68     		ldr	r3, [r7, #12]
 3240 0018 B032     		adds	r2, r2, #176
 3241 001a 53F82230 		ldr	r3, [r3, r2, lsl #2]
 3242 001e 7B61     		str	r3, [r7, #20]
1043:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1044:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 3243              		.loc 1 1044 6
 3244 0020 7B69     		ldr	r3, [r7, #20]
 3245 0022 002B     		cmp	r3, #0
 3246 0024 02D1     		bne	.L146
1045:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1046:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3247              		.loc 1 1046 12
 3248 0026 4FF0FF33 		mov	r3, #-1
 3249 002a 11E0     		b	.L147
 3250              	.L146:
1047:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1048:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1049:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if ((blk_offset + blk_nbr) > hmsc->scsi_blk_nbr)
 3251              		.loc 1 1049 19
 3252 002c 7A68     		ldr	r2, [r7, #4]
 3253 002e 3B68     		ldr	r3, [r7]
 3254 0030 1A44     		add	r2, r2, r3
 3255              		.loc 1 1049 36
 3256 0032 7B69     		ldr	r3, [r7, #20]
 3257 0034 D3F86832 		ldr	r3, [r3, #616]
 3258              		.loc 1 1049 6
 3259 0038 9A42     		cmp	r2, r3
 3260 003a 08D9     		bls	.L148
1050:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1051:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, ILLEGAL_REQUEST, ADDRESS_OUT_OF_RANGE);
 3261              		.loc 1 1051 5
 3262 003c F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 3263 003e 2123     		movs	r3, #33
 3264 0040 0522     		movs	r2, #5
 3265 0042 F868     		ldr	r0, [r7, #12]
 3266 0044 FFF7FEFF 		bl	SCSI_SenseCode
1052:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3267              		.loc 1 1052 12
 3268 0048 4FF0FF33 		mov	r3, #-1
 3269 004c 00E0     		b	.L147
 3270              	.L148:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 77


1053:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1054:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1055:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 3271              		.loc 1 1055 10
 3272 004e 0023     		movs	r3, #0
 3273              	.L147:
1056:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 3274              		.loc 1 1056 1
 3275 0050 1846     		mov	r0, r3
 3276 0052 1837     		adds	r7, r7, #24
 3277              	.LCFI90:
 3278              		.cfi_def_cfa_offset 8
 3279 0054 BD46     		mov	sp, r7
 3280              	.LCFI91:
 3281              		.cfi_def_cfa_register 13
 3282              		@ sp needed
 3283 0056 80BD     		pop	{r7, pc}
 3284              		.cfi_endproc
 3285              	.LFE162:
 3287              		.section	.text.SCSI_ProcessRead,"ax",%progbits
 3288              		.align	1
 3289              		.syntax unified
 3290              		.thumb
 3291              		.thumb_func
 3293              	SCSI_ProcessRead:
 3294              	.LFB163:
1057:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1058:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
1059:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ProcessRead
1060:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Handle Read Process
1061:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
1062:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
1063:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
1064:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ProcessRead(USBD_HandleTypeDef *pdev, uint8_t lun)
1065:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 3295              		.loc 1 1065 1
 3296              		.cfi_startproc
 3297              		@ args = 0, pretend = 0, frame = 16
 3298              		@ frame_needed = 1, uses_anonymous_args = 0
 3299 0000 90B5     		push	{r4, r7, lr}
 3300              	.LCFI92:
 3301              		.cfi_def_cfa_offset 12
 3302              		.cfi_offset 4, -12
 3303              		.cfi_offset 7, -8
 3304              		.cfi_offset 14, -4
 3305 0002 85B0     		sub	sp, sp, #20
 3306              	.LCFI93:
 3307              		.cfi_def_cfa_offset 32
 3308 0004 00AF     		add	r7, sp, #0
 3309              	.LCFI94:
 3310              		.cfi_def_cfa_register 7
 3311 0006 7860     		str	r0, [r7, #4]
 3312 0008 0B46     		mov	r3, r1
 3313 000a FB70     		strb	r3, [r7, #3]
1066:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 3314              		.loc 1 1066 94
 3315 000c 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 78


 3316 000e D3F8D422 		ldr	r2, [r3, #724]
 3317              		.loc 1 1066 31
 3318 0012 7B68     		ldr	r3, [r7, #4]
 3319 0014 B032     		adds	r2, r2, #176
 3320 0016 53F82230 		ldr	r3, [r3, r2, lsl #2]
 3321 001a FB60     		str	r3, [r7, #12]
1067:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint32_t len;
1068:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1069:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 3322              		.loc 1 1069 6
 3323 001c FB68     		ldr	r3, [r7, #12]
 3324 001e 002B     		cmp	r3, #0
 3325 0020 02D1     		bne	.L150
1070:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1071:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3326              		.loc 1 1071 12
 3327 0022 4FF0FF33 		mov	r3, #-1
 3328 0026 6AE0     		b	.L151
 3329              	.L150:
1072:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1073:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1074:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   len = hmsc->scsi_blk_len * hmsc->scsi_blk_size;
 3330              		.loc 1 1074 13
 3331 0028 FB68     		ldr	r3, [r7, #12]
 3332 002a D3F87032 		ldr	r3, [r3, #624]
 3333              		.loc 1 1074 34
 3334 002e FA68     		ldr	r2, [r7, #12]
 3335 0030 B2F86422 		ldrh	r2, [r2, #612]
 3336              		.loc 1 1074 7
 3337 0034 02FB03F3 		mul	r3, r2, r3
 3338 0038 BB60     		str	r3, [r7, #8]
1075:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1076:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #ifdef USE_USBD_COMPOSITE
1077:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* Get the Endpoints addresses allocated for this class instance */
1078:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   MSCInEpAdd = USBD_CoreGetEPAdd(pdev, USBD_EP_IN, USBD_EP_TYPE_BULK, (uint8_t)pdev->classId);
1079:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #endif /* USE_USBD_COMPOSITE */
1080:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1081:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   len = MIN(len, MSC_MEDIA_PACKET);
 3339              		.loc 1 1081 7
 3340 003a BB68     		ldr	r3, [r7, #8]
 3341 003c B3F5007F 		cmp	r3, #512
 3342 0040 28BF     		it	cs
 3343 0042 4FF40073 		movcs	r3, #512
 3344 0046 BB60     		str	r3, [r7, #8]
1082:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1083:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->Read(lun, hmsc->bot_data,
 3345              		.loc 1 1083 51
 3346 0048 7B68     		ldr	r3, [r7, #4]
 3347 004a D3F8D432 		ldr	r3, [r3, #724]
 3348              		.loc 1 1083 46
 3349 004e 7A68     		ldr	r2, [r7, #4]
 3350 0050 B033     		adds	r3, r3, #176
 3351 0052 9B00     		lsls	r3, r3, #2
 3352 0054 1344     		add	r3, r3, r2
 3353 0056 5B68     		ldr	r3, [r3, #4]
 3354              		.loc 1 1083 62
 3355 0058 1C69     		ldr	r4, [r3, #16]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 79


 3356              		.loc 1 1083 78
 3357 005a FB68     		ldr	r3, [r7, #12]
 3358 005c 03F11001 		add	r1, r3, #16
 3359              		.loc 1 1083 8
 3360 0060 FB68     		ldr	r3, [r7, #12]
 3361 0062 D3F86C22 		ldr	r2, [r3, #620]
1084:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                     hmsc->scsi_blk_addr,
1085:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                     (len / hmsc->scsi_blk_size)) < 
 3362              		.loc 1 1085 80
 3363 0066 FB68     		ldr	r3, [r7, #12]
 3364 0068 B3F86432 		ldrh	r3, [r3, #612]
 3365 006c 1846     		mov	r0, r3
 3366              		.loc 1 1085 74
 3367 006e BB68     		ldr	r3, [r7, #8]
 3368 0070 B3FBF0F3 		udiv	r3, r3, r0
1083:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                     hmsc->scsi_blk_addr,
 3369              		.loc 1 1083 8
 3370 0074 9BB2     		uxth	r3, r3
 3371 0076 F878     		ldrb	r0, [r7, #3]	@ zero_extendqisi2
 3372 0078 A047     		blx	r4
 3373              	.LVL10:
 3374 007a 0346     		mov	r3, r0
1083:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                     hmsc->scsi_blk_addr,
 3375              		.loc 1 1083 6
 3376 007c 002B     		cmp	r3, #0
 3377 007e 08DA     		bge	.L152
1086:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1087:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, HARDWARE_ERROR, UNRECOVERED_READ_ERROR);
 3378              		.loc 1 1087 5
 3379 0080 F978     		ldrb	r1, [r7, #3]	@ zero_extendqisi2
 3380 0082 1123     		movs	r3, #17
 3381 0084 0422     		movs	r2, #4
 3382 0086 7868     		ldr	r0, [r7, #4]
 3383 0088 FFF7FEFF 		bl	SCSI_SenseCode
1088:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3384              		.loc 1 1088 12
 3385 008c 4FF0FF33 		mov	r3, #-1
 3386 0090 35E0     		b	.L151
 3387              	.L152:
1089:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1090:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1091:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   (void)USBD_LL_Transmit(pdev, MSCInEpAdd, hmsc->bot_data, len);
 3388              		.loc 1 1091 3
 3389 0092 1D4B     		ldr	r3, .L154
 3390 0094 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3391              		.loc 1 1091 48
 3392 0096 FB68     		ldr	r3, [r7, #12]
 3393 0098 03F11002 		add	r2, r3, #16
 3394              		.loc 1 1091 9
 3395 009c BB68     		ldr	r3, [r7, #8]
 3396 009e 7868     		ldr	r0, [r7, #4]
 3397 00a0 FFF7FEFF 		bl	USBD_LL_Transmit
1092:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1093:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_blk_addr += (len / hmsc->scsi_blk_size);
 3398              		.loc 1 1093 23
 3399 00a4 FB68     		ldr	r3, [r7, #12]
 3400 00a6 D3F86C22 		ldr	r2, [r3, #620]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 80


 3401              		.loc 1 1093 37
 3402 00aa FB68     		ldr	r3, [r7, #12]
 3403 00ac B3F86432 		ldrh	r3, [r3, #612]
 3404 00b0 1946     		mov	r1, r3
 3405              		.loc 1 1093 31
 3406 00b2 BB68     		ldr	r3, [r7, #8]
 3407 00b4 B3FBF1F3 		udiv	r3, r3, r1
 3408              		.loc 1 1093 23
 3409 00b8 1A44     		add	r2, r2, r3
 3410 00ba FB68     		ldr	r3, [r7, #12]
 3411 00bc C3F86C22 		str	r2, [r3, #620]
1094:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_blk_len -= (len / hmsc->scsi_blk_size);
 3412              		.loc 1 1094 22
 3413 00c0 FB68     		ldr	r3, [r7, #12]
 3414 00c2 D3F87022 		ldr	r2, [r3, #624]
 3415              		.loc 1 1094 36
 3416 00c6 FB68     		ldr	r3, [r7, #12]
 3417 00c8 B3F86432 		ldrh	r3, [r3, #612]
 3418 00cc 1946     		mov	r1, r3
 3419              		.loc 1 1094 30
 3420 00ce BB68     		ldr	r3, [r7, #8]
 3421 00d0 B3FBF1F3 		udiv	r3, r3, r1
 3422              		.loc 1 1094 22
 3423 00d4 D21A     		subs	r2, r2, r3
 3424 00d6 FB68     		ldr	r3, [r7, #12]
 3425 00d8 C3F87022 		str	r2, [r3, #624]
1095:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1096:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* case 6 : Hi = Di */
1097:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->csw.dDataResidue -= len;
 3426              		.loc 1 1097 26
 3427 00dc FB68     		ldr	r3, [r7, #12]
 3428 00de D3F83822 		ldr	r2, [r3, #568]
 3429 00e2 BB68     		ldr	r3, [r7, #8]
 3430 00e4 D21A     		subs	r2, r2, r3
 3431 00e6 FB68     		ldr	r3, [r7, #12]
 3432 00e8 C3F83822 		str	r2, [r3, #568]
1098:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1099:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->scsi_blk_len == 0U)
 3433              		.loc 1 1099 11
 3434 00ec FB68     		ldr	r3, [r7, #12]
 3435 00ee D3F87032 		ldr	r3, [r3, #624]
 3436              		.loc 1 1099 6
 3437 00f2 002B     		cmp	r3, #0
 3438 00f4 02D1     		bne	.L153
1100:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1101:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_state = USBD_BOT_LAST_DATA_IN;
 3439              		.loc 1 1101 21
 3440 00f6 FB68     		ldr	r3, [r7, #12]
 3441 00f8 0322     		movs	r2, #3
 3442 00fa 1A72     		strb	r2, [r3, #8]
 3443              	.L153:
1102:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1103:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1104:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 3444              		.loc 1 1104 10
 3445 00fc 0023     		movs	r3, #0
 3446              	.L151:
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 81


1105:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 3447              		.loc 1 1105 1
 3448 00fe 1846     		mov	r0, r3
 3449 0100 1437     		adds	r7, r7, #20
 3450              	.LCFI95:
 3451              		.cfi_def_cfa_offset 12
 3452 0102 BD46     		mov	sp, r7
 3453              	.LCFI96:
 3454              		.cfi_def_cfa_register 13
 3455              		@ sp needed
 3456 0104 90BD     		pop	{r4, r7, pc}
 3457              	.L155:
 3458 0106 00BF     		.align	2
 3459              	.L154:
 3460 0108 00000000 		.word	MSCInEpAdd
 3461              		.cfi_endproc
 3462              	.LFE163:
 3464              		.section	.text.SCSI_ProcessWrite,"ax",%progbits
 3465              		.align	1
 3466              		.syntax unified
 3467              		.thumb
 3468              		.thumb_func
 3470              	SCSI_ProcessWrite:
 3471              	.LFB164:
1106:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1107:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
1108:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_ProcessWrite
1109:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         Handle Write Process
1110:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  lun: Logical unit number
1111:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
1112:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
1113:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_ProcessWrite(USBD_HandleTypeDef *pdev, uint8_t lun)
1114:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 3472              		.loc 1 1114 1
 3473              		.cfi_startproc
 3474              		@ args = 0, pretend = 0, frame = 16
 3475              		@ frame_needed = 1, uses_anonymous_args = 0
 3476 0000 90B5     		push	{r4, r7, lr}
 3477              	.LCFI97:
 3478              		.cfi_def_cfa_offset 12
 3479              		.cfi_offset 4, -12
 3480              		.cfi_offset 7, -8
 3481              		.cfi_offset 14, -4
 3482 0002 85B0     		sub	sp, sp, #20
 3483              	.LCFI98:
 3484              		.cfi_def_cfa_offset 32
 3485 0004 00AF     		add	r7, sp, #0
 3486              	.LCFI99:
 3487              		.cfi_def_cfa_register 7
 3488 0006 7860     		str	r0, [r7, #4]
 3489 0008 0B46     		mov	r3, r1
 3490 000a FB70     		strb	r3, [r7, #3]
1115:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   USBD_MSC_BOT_HandleTypeDef *hmsc = (USBD_MSC_BOT_HandleTypeDef *)pdev->pClassDataCmsit[pdev->clas
 3491              		.loc 1 1115 94
 3492 000c 7B68     		ldr	r3, [r7, #4]
 3493 000e D3F8D422 		ldr	r2, [r3, #724]
 3494              		.loc 1 1115 31
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 82


 3495 0012 7B68     		ldr	r3, [r7, #4]
 3496 0014 B032     		adds	r2, r2, #176
 3497 0016 53F82230 		ldr	r3, [r3, r2, lsl #2]
 3498 001a FB60     		str	r3, [r7, #12]
1116:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint32_t len;
1117:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1118:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 3499              		.loc 1 1118 6
 3500 001c FB68     		ldr	r3, [r7, #12]
 3501 001e 002B     		cmp	r3, #0
 3502 0020 02D1     		bne	.L157
1119:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1120:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3503              		.loc 1 1120 12
 3504 0022 4FF0FF33 		mov	r3, #-1
 3505 0026 7AE0     		b	.L158
 3506              	.L157:
1121:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1122:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1123:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   len = hmsc->scsi_blk_len * hmsc->scsi_blk_size;
 3507              		.loc 1 1123 13
 3508 0028 FB68     		ldr	r3, [r7, #12]
 3509 002a D3F87032 		ldr	r3, [r3, #624]
 3510              		.loc 1 1123 34
 3511 002e FA68     		ldr	r2, [r7, #12]
 3512 0030 B2F86422 		ldrh	r2, [r2, #612]
 3513              		.loc 1 1123 7
 3514 0034 02FB03F3 		mul	r3, r2, r3
 3515 0038 BB60     		str	r3, [r7, #8]
1124:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1125:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #ifdef USE_USBD_COMPOSITE
1126:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* Get the Endpoints addresses allocated for this class instance */
1127:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   MSCOutEpAdd = USBD_CoreGetEPAdd(pdev, USBD_EP_OUT, USBD_EP_TYPE_BULK, (uint8_t)pdev->classId);
1128:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** #endif /* USE_USBD_COMPOSITE */
1129:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1130:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   len = MIN(len, MSC_MEDIA_PACKET);
 3516              		.loc 1 1130 7
 3517 003a BB68     		ldr	r3, [r7, #8]
 3518 003c B3F5007F 		cmp	r3, #512
 3519 0040 28BF     		it	cs
 3520 0042 4FF40073 		movcs	r3, #512
 3521 0046 BB60     		str	r3, [r7, #8]
1131:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1132:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (((USBD_StorageTypeDef *)pdev->pUserData[pdev->classId])->Write(lun, hmsc->bot_data,
 3522              		.loc 1 1132 51
 3523 0048 7B68     		ldr	r3, [r7, #4]
 3524 004a D3F8D432 		ldr	r3, [r3, #724]
 3525              		.loc 1 1132 46
 3526 004e 7A68     		ldr	r2, [r7, #4]
 3527 0050 B033     		adds	r3, r3, #176
 3528 0052 9B00     		lsls	r3, r3, #2
 3529 0054 1344     		add	r3, r3, r2
 3530 0056 5B68     		ldr	r3, [r3, #4]
 3531              		.loc 1 1132 62
 3532 0058 5C69     		ldr	r4, [r3, #20]
 3533              		.loc 1 1132 79
 3534 005a FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 83


 3535 005c 03F11001 		add	r1, r3, #16
 3536              		.loc 1 1132 8
 3537 0060 FB68     		ldr	r3, [r7, #12]
 3538 0062 D3F86C22 		ldr	r2, [r3, #620]
1133:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                      hmsc->scsi_blk_addr,
1134:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                      (len / hmsc->scsi_blk_size)) <
 3539              		.loc 1 1134 81
 3540 0066 FB68     		ldr	r3, [r7, #12]
 3541 0068 B3F86432 		ldrh	r3, [r3, #612]
 3542 006c 1846     		mov	r0, r3
 3543              		.loc 1 1134 75
 3544 006e BB68     		ldr	r3, [r7, #8]
 3545 0070 B3FBF0F3 		udiv	r3, r3, r0
1132:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                      hmsc->scsi_blk_addr,
 3546              		.loc 1 1132 8
 3547 0074 9BB2     		uxth	r3, r3
 3548 0076 F878     		ldrb	r0, [r7, #3]	@ zero_extendqisi2
 3549 0078 A047     		blx	r4
 3550              	.LVL11:
 3551 007a 0346     		mov	r3, r0
1132:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                                                      hmsc->scsi_blk_addr,
 3552              		.loc 1 1132 6
 3553 007c 002B     		cmp	r3, #0
 3554 007e 08DA     		bge	.L159
1135:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1136:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     SCSI_SenseCode(pdev, lun, HARDWARE_ERROR, WRITE_FAULT);
 3555              		.loc 1 1136 5
 3556 0080 F978     		ldrb	r1, [r7, #3]	@ zero_extendqisi2
 3557 0082 0323     		movs	r3, #3
 3558 0084 0422     		movs	r2, #4
 3559 0086 7868     		ldr	r0, [r7, #4]
 3560 0088 FFF7FEFF 		bl	SCSI_SenseCode
1137:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3561              		.loc 1 1137 12
 3562 008c 4FF0FF33 		mov	r3, #-1
 3563 0090 45E0     		b	.L158
 3564              	.L159:
1138:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1139:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1140:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_blk_addr += (len / hmsc->scsi_blk_size);
 3565              		.loc 1 1140 23
 3566 0092 FB68     		ldr	r3, [r7, #12]
 3567 0094 D3F86C22 		ldr	r2, [r3, #620]
 3568              		.loc 1 1140 37
 3569 0098 FB68     		ldr	r3, [r7, #12]
 3570 009a B3F86432 		ldrh	r3, [r3, #612]
 3571 009e 1946     		mov	r1, r3
 3572              		.loc 1 1140 31
 3573 00a0 BB68     		ldr	r3, [r7, #8]
 3574 00a2 B3FBF1F3 		udiv	r3, r3, r1
 3575              		.loc 1 1140 23
 3576 00a6 1A44     		add	r2, r2, r3
 3577 00a8 FB68     		ldr	r3, [r7, #12]
 3578 00aa C3F86C22 		str	r2, [r3, #620]
1141:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->scsi_blk_len -= (len / hmsc->scsi_blk_size);
 3579              		.loc 1 1141 22
 3580 00ae FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 84


 3581 00b0 D3F87022 		ldr	r2, [r3, #624]
 3582              		.loc 1 1141 36
 3583 00b4 FB68     		ldr	r3, [r7, #12]
 3584 00b6 B3F86432 		ldrh	r3, [r3, #612]
 3585 00ba 1946     		mov	r1, r3
 3586              		.loc 1 1141 30
 3587 00bc BB68     		ldr	r3, [r7, #8]
 3588 00be B3FBF1F3 		udiv	r3, r3, r1
 3589              		.loc 1 1141 22
 3590 00c2 D21A     		subs	r2, r2, r3
 3591 00c4 FB68     		ldr	r3, [r7, #12]
 3592 00c6 C3F87022 		str	r2, [r3, #624]
1142:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1143:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   /* case 12 : Ho = Do */
1144:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->csw.dDataResidue -= len;
 3593              		.loc 1 1144 26
 3594 00ca FB68     		ldr	r3, [r7, #12]
 3595 00cc D3F83822 		ldr	r2, [r3, #568]
 3596 00d0 BB68     		ldr	r3, [r7, #8]
 3597 00d2 D21A     		subs	r2, r2, r3
 3598 00d4 FB68     		ldr	r3, [r7, #12]
 3599 00d6 C3F83822 		str	r2, [r3, #568]
1145:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1146:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc->scsi_blk_len == 0U)
 3600              		.loc 1 1146 11
 3601 00da FB68     		ldr	r3, [r7, #12]
 3602 00dc D3F87032 		ldr	r3, [r3, #624]
 3603              		.loc 1 1146 6
 3604 00e0 002B     		cmp	r3, #0
 3605 00e2 04D1     		bne	.L160
1147:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1148:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     MSC_BOT_SendCSW(pdev, USBD_CSW_CMD_PASSED);
 3606              		.loc 1 1148 5
 3607 00e4 0021     		movs	r1, #0
 3608 00e6 7868     		ldr	r0, [r7, #4]
 3609 00e8 FFF7FEFF 		bl	MSC_BOT_SendCSW
 3610 00ec 16E0     		b	.L161
 3611              	.L160:
1149:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1150:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   else
1151:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1152:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len = MIN((hmsc->scsi_blk_len * hmsc->scsi_blk_size), MSC_MEDIA_PACKET);
 3612              		.loc 1 1152 11
 3613 00ee FB68     		ldr	r3, [r7, #12]
 3614 00f0 D3F87032 		ldr	r3, [r3, #624]
 3615 00f4 FA68     		ldr	r2, [r7, #12]
 3616 00f6 B2F86422 		ldrh	r2, [r2, #612]
 3617 00fa 02FB03F3 		mul	r3, r2, r3
 3618              		.loc 1 1152 9
 3619 00fe B3F5007F 		cmp	r3, #512
 3620 0102 28BF     		it	cs
 3621 0104 4FF40073 		movcs	r3, #512
 3622 0108 BB60     		str	r3, [r7, #8]
1153:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1154:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     /* Prepare EP to Receive next packet */
1155:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     (void)USBD_LL_PrepareReceive(pdev, MSCOutEpAdd, hmsc->bot_data, len);
 3623              		.loc 1 1155 5
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 85


 3624 010a 074B     		ldr	r3, .L162
 3625 010c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3626              		.loc 1 1155 57
 3627 010e FB68     		ldr	r3, [r7, #12]
 3628 0110 03F11002 		add	r2, r3, #16
 3629              		.loc 1 1155 11
 3630 0114 BB68     		ldr	r3, [r7, #8]
 3631 0116 7868     		ldr	r0, [r7, #4]
 3632 0118 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 3633              	.L161:
1156:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1157:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1158:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 3634              		.loc 1 1158 10
 3635 011c 0023     		movs	r3, #0
 3636              	.L158:
1159:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 3637              		.loc 1 1159 1
 3638 011e 1846     		mov	r0, r3
 3639 0120 1437     		adds	r7, r7, #20
 3640              	.LCFI100:
 3641              		.cfi_def_cfa_offset 12
 3642 0122 BD46     		mov	sp, r7
 3643              	.LCFI101:
 3644              		.cfi_def_cfa_register 13
 3645              		@ sp needed
 3646 0124 90BD     		pop	{r4, r7, pc}
 3647              	.L163:
 3648 0126 00BF     		.align	2
 3649              	.L162:
 3650 0128 00000000 		.word	MSCOutEpAdd
 3651              		.cfi_endproc
 3652              	.LFE164:
 3654              		.section	.text.SCSI_UpdateBotData,"ax",%progbits
 3655              		.align	1
 3656              		.syntax unified
 3657              		.thumb
 3658              		.thumb_func
 3660              	SCSI_UpdateBotData:
 3661              	.LFB165:
1160:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1161:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1162:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** /**
1163:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @brief  SCSI_UpdateBotData
1164:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   *         fill the requested Data to transmit buffer
1165:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  hmsc handler
1166:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  pBuff: Data buffer
1167:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @param  length: Data length
1168:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   * @retval status
1169:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   */
1170:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** static int8_t SCSI_UpdateBotData(USBD_MSC_BOT_HandleTypeDef *hmsc,
1171:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****                                  uint8_t *pBuff, uint16_t length)
1172:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** {
 3662              		.loc 1 1172 1
 3663              		.cfi_startproc
 3664              		@ args = 0, pretend = 0, frame = 24
 3665              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 86


 3666              		@ link register save eliminated.
 3667 0000 80B4     		push	{r7}
 3668              	.LCFI102:
 3669              		.cfi_def_cfa_offset 4
 3670              		.cfi_offset 7, -4
 3671 0002 87B0     		sub	sp, sp, #28
 3672              	.LCFI103:
 3673              		.cfi_def_cfa_offset 32
 3674 0004 00AF     		add	r7, sp, #0
 3675              	.LCFI104:
 3676              		.cfi_def_cfa_register 7
 3677 0006 F860     		str	r0, [r7, #12]
 3678 0008 B960     		str	r1, [r7, #8]
 3679 000a 1346     		mov	r3, r2
 3680 000c FB80     		strh	r3, [r7, #6]	@ movhi
1173:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   uint16_t len = length;
 3681              		.loc 1 1173 12
 3682 000e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3683 0010 FB82     		strh	r3, [r7, #22]	@ movhi
1174:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1175:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   if (hmsc == NULL)
 3684              		.loc 1 1175 6
 3685 0012 FB68     		ldr	r3, [r7, #12]
 3686 0014 002B     		cmp	r3, #0
 3687 0016 02D1     		bne	.L165
1176:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1177:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     return -1;
 3688              		.loc 1 1177 12
 3689 0018 4FF0FF33 		mov	r3, #-1
 3690 001c 13E0     		b	.L166
 3691              	.L165:
1178:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1179:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1180:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   hmsc->bot_data_length = len;
 3692              		.loc 1 1180 25
 3693 001e FA8A     		ldrh	r2, [r7, #22]
 3694 0020 FB68     		ldr	r3, [r7, #12]
 3695 0022 DA60     		str	r2, [r3, #12]
1181:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1182:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   while (len != 0U)
 3696              		.loc 1 1182 9
 3697 0024 0BE0     		b	.L167
 3698              	.L168:
1183:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
1184:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     len--;
 3699              		.loc 1 1184 8
 3700 0026 FB8A     		ldrh	r3, [r7, #22]
 3701 0028 013B     		subs	r3, r3, #1
 3702 002a FB82     		strh	r3, [r7, #22]	@ movhi
1185:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****     hmsc->bot_data[len] = pBuff[len];
 3703              		.loc 1 1185 32
 3704 002c FB8A     		ldrh	r3, [r7, #22]
 3705 002e BA68     		ldr	r2, [r7, #8]
 3706 0030 1A44     		add	r2, r2, r3
 3707              		.loc 1 1185 19
 3708 0032 FB8A     		ldrh	r3, [r7, #22]
 3709              		.loc 1 1185 32
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 87


 3710 0034 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 3711              		.loc 1 1185 25
 3712 0036 FA68     		ldr	r2, [r7, #12]
 3713 0038 1344     		add	r3, r3, r2
 3714 003a 0A46     		mov	r2, r1
 3715 003c 1A74     		strb	r2, [r3, #16]
 3716              	.L167:
1182:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   {
 3717              		.loc 1 1182 9
 3718 003e FB8A     		ldrh	r3, [r7, #22]
 3719 0040 002B     		cmp	r3, #0
 3720 0042 F0D1     		bne	.L168
1186:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   }
1187:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** 
1188:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c ****   return 0;
 3721              		.loc 1 1188 10
 3722 0044 0023     		movs	r3, #0
 3723              	.L166:
1189:Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Src/usbd_msc_scsi.c **** }
 3724              		.loc 1 1189 1
 3725 0046 1846     		mov	r0, r3
 3726 0048 1C37     		adds	r7, r7, #28
 3727              	.LCFI105:
 3728              		.cfi_def_cfa_offset 4
 3729 004a BD46     		mov	sp, r7
 3730              	.LCFI106:
 3731              		.cfi_def_cfa_register 13
 3732              		@ sp needed
 3733 004c 5DF8047B 		ldr	r7, [sp], #4
 3734              	.LCFI107:
 3735              		.cfi_restore 7
 3736              		.cfi_def_cfa_offset 0
 3737 0050 7047     		bx	lr
 3738              		.cfi_endproc
 3739              	.LFE165:
 3741              		.text
 3742              	.Letext0:
 3743              		.file 2 "d:\\3.tools\\arm_gcc_toolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 3744              		.file 3 "d:\\3.tools\\arm_gcc_toolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 3745              		.file 4 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 3746              		.file 5 "Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Inc/usbd_msc_bot.h"
 3747              		.file 6 "Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Inc/usbd_msc_scsi.h"
 3748              		.file 7 "Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Inc/usbd_msc.h"
 3749              		.file 8 "Middlewares/ST/STM32_USB_Device_Library/Class/MSC/Inc/usbd_msc_data.h"
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 88


DEFINED SYMBOLS
                            *ABS*:00000000 usbd_msc_scsi.c
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:20     .text.SCSI_ProcessCmd:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:26     .text.SCSI_ProcessCmd:00000000 SCSI_ProcessCmd
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:86     .text.SCSI_ProcessCmd:00000060 $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:177    .text.SCSI_ProcessCmd:000001cc $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:386    .text.SCSI_TestUnitReady:00000000 SCSI_TestUnitReady
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1531   .text.SCSI_RequestSense:00000000 SCSI_RequestSense
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:520    .text.SCSI_Inquiry:00000000 SCSI_Inquiry
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1834   .text.SCSI_StartStopUnit:00000000 SCSI_StartStopUnit
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1966   .text.SCSI_AllowPreventRemovable:00000000 SCSI_AllowPreventRemovable
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1355   .text.SCSI_ModeSense6:00000000 SCSI_ModeSense6
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1443   .text.SCSI_ModeSense10:00000000 SCSI_ModeSense10
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1162   .text.SCSI_ReadFormatCapacity:00000000 SCSI_ReadFormatCapacity
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:700    .text.SCSI_ReadCapacity10:00000000 SCSI_ReadCapacity10
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:889    .text.SCSI_ReadCapacity16:00000000 SCSI_ReadCapacity16
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2051   .text.SCSI_Read10:00000000 SCSI_Read10
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2281   .text.SCSI_Read12:00000000 SCSI_Read12
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2527   .text.SCSI_Write10:00000000 SCSI_Write10
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2809   .text.SCSI_Write12:00000000 SCSI_Write12
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3115   .text.SCSI_Verify10:00000000 SCSI_Verify10
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1721   .text.SCSI_SenseCode:00000000 SCSI_SenseCode
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:381    .text.SCSI_TestUnitReady:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:515    .text.SCSI_Inquiry:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3660   .text.SCSI_UpdateBotData:00000000 SCSI_UpdateBotData
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:689    .text.SCSI_Inquiry:000000f4 $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:695    .text.SCSI_ReadCapacity10:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:884    .text.SCSI_ReadCapacity16:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1157   .text.SCSI_ReadFormatCapacity:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1350   .text.SCSI_ModeSense6:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1433   .text.SCSI_ModeSense6:0000005c $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1438   .text.SCSI_ModeSense10:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1521   .text.SCSI_ModeSense10:0000005c $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1526   .text.SCSI_RequestSense:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1715   .text.SCSI_SenseCode:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1829   .text.SCSI_StartStopUnit:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:1961   .text.SCSI_AllowPreventRemovable:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2046   .text.SCSI_Read10:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3213   .text.SCSI_CheckAddressRange:00000000 SCSI_CheckAddressRange
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3293   .text.SCSI_ProcessRead:00000000 SCSI_ProcessRead
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2276   .text.SCSI_Read12:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2522   .text.SCSI_Write10:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3470   .text.SCSI_ProcessWrite:00000000 SCSI_ProcessWrite
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2799   .text.SCSI_Write10:000001a8 $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:2804   .text.SCSI_Write12:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3105   .text.SCSI_Write12:000001c8 $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3110   .text.SCSI_Verify10:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3208   .text.SCSI_CheckAddressRange:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3288   .text.SCSI_ProcessRead:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3460   .text.SCSI_ProcessRead:00000108 $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3465   .text.SCSI_ProcessWrite:00000000 $t
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3650   .text.SCSI_ProcessWrite:00000128 $d
C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s:3655   .text.SCSI_UpdateBotData:00000000 $t

UNDEFINED SYMBOLS
MSC_Page00_Inquiry_Data
MSC_Page80_Inquiry_Data
ARM GAS  C:\Users\jisu8\AppData\Local\Temp\cc14wEfG.s 			page 89


MSC_Mode_Sense6_data
MSC_Mode_Sense10_data
USBD_LL_PrepareReceive
MSCOutEpAdd
USBD_LL_Transmit
MSCInEpAdd
MSC_BOT_SendCSW
